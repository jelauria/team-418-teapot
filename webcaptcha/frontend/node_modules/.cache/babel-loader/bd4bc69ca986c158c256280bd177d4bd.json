{"ast":null,"code":"\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __makeTemplateObject = this && this.__makeTemplateObject || function (cooked, raw) {\n  if (Object.defineProperty) {\n    Object.defineProperty(cooked, \"raw\", {\n      value: raw\n    });\n  } else {\n    cooked.raw = raw;\n  }\n\n  return cooked;\n};\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n  result[\"default\"] = mod;\n  return result;\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar React = __importStar(require(\"react\"));\n\nvar ReactDOM = __importStar(require(\"react-dom\"));\n\nvar styled_1 = __importDefault(require(\"../../styled\"));\n\nvar tokens_1 = require(\"../../tokens\");\n\nvar layers = {\n  overlayBackdrop: 20,\n  overlay: 30\n};\nvar keyCodes = {\n  escape: 27\n};\nexports.overlayContentSizes = {\n  small: \"480px\",\n  medium: \"640px\",\n  large: \"800px\"\n};\n\nvar Overlay = function (_super) {\n  __extends(Overlay, _super);\n\n  function Overlay(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.contentElementRef = React.createRef();\n\n    _this.handleMouseDown = function (evt) {\n      var _a = _this.props,\n          closeOnBackdropClick = _a.closeOnBackdropClick,\n          open = _a.open,\n          onClose = _a.onClose;\n      var clickWasOnBackdrop = _this.contentElementRef.current && !_this.contentElementRef.current.contains(evt.target);\n\n      if (open && closeOnBackdropClick && clickWasOnBackdrop && onClose) {\n        onClose();\n      }\n    };\n\n    _this.handleDocumentKeyDown = function (evt) {\n      var _a = _this.props,\n          closeOnEscape = _a.closeOnEscape,\n          open = _a.open,\n          onClose = _a.onClose;\n      var escapeWasPressed = evt.which === keyCodes.escape;\n\n      if (open && closeOnEscape && escapeWasPressed) {\n        evt.preventDefault();\n\n        if (onClose) {\n          onClose();\n        }\n      }\n    };\n\n    _this.state = {\n      hasBeenMounted: false\n    };\n    return _this;\n  }\n\n  Overlay.getSizeForOverlay = function (propValue) {\n    if (typeof propValue === \"number\") {\n      return propValue + \"px\";\n    }\n\n    return exports.overlayContentSizes[propValue];\n  };\n\n  Overlay.prototype.componentDidMount = function () {\n    this.mountElement = document.createElement(\"div\");\n    document.body.appendChild(this.mountElement);\n    document.addEventListener(\"keydown\", this.handleDocumentKeyDown);\n    this.setState(function (prevState, props) {\n      return {\n        hasBeenMounted: true\n      };\n    });\n  };\n\n  Overlay.prototype.componentWillUnmount = function () {\n    document.body.removeChild(this.mountElement);\n    document.removeEventListener(\"keydown\", this.handleDocumentKeyDown);\n  };\n\n  Overlay.prototype.render = function () {\n    var _a = this.props,\n        open = _a.open,\n        children = _a.children,\n        contentSize = _a.contentSize;\n\n    if (!this.state.hasBeenMounted) {\n      return null;\n    }\n\n    var content = open ? React.createElement(Overlay.Backdrop, {\n      onMouseDown: this.handleMouseDown\n    }, React.createElement(Overlay.Element, {\n      contentSize: contentSize,\n      ref: this.contentElementRef\n    }, children)) : null;\n    return ReactDOM.createPortal(content, this.mountElement);\n  };\n\n  Overlay.defaultProps = {\n    closeOnBackdropClick: true,\n    closeOnEscape: true,\n    open: false\n  };\n  Overlay.Backdrop = styled_1.default.div(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n    position: fixed;\\n    top: 0;\\n    left: 0;\\n    bottom: 0;\\n    right: 0;\\n    z-index: \", \";\\n    background: hsla(0, 12%, 95%, 0.95);\\n    display: flex;\\n    justify-content: center;\\n  \"], [\"\\n    position: fixed;\\n    top: 0;\\n    left: 0;\\n    bottom: 0;\\n    right: 0;\\n    z-index: \", \";\\n    background: hsla(0, 12%, 95%, 0.95);\\n    display: flex;\\n    justify-content: center;\\n  \"])), layers.overlayBackdrop);\n  Overlay.Element = styled_1.default.div(templateObject_2 || (templateObject_2 = __makeTemplateObject([\"\\n    width: 100%;\\n    margin: \", \" \", \";\\n    pointer-events: none;\\n    display: inline-block;\\n\\n    /* Since the focus trap is adding divs around the dialog box, the max width prop should be here */\\n    max-width: \", \";\\n  \"], [\"\\n    width: 100%;\\n    margin: \", \" \", \";\\n    pointer-events: none;\\n    display: inline-block;\\n\\n    /* Since the focus trap is adding divs around the dialog box, the max width prop should be here */\\n    max-width: \", \";\\n  \"])), tokens_1.spacing.xlarge, tokens_1.spacing.small, function (props) {\n    return Overlay.getSizeForOverlay(props.contentSize);\n  });\n  return Overlay;\n}(React.Component);\n\nexports.default = Overlay;\nvar templateObject_1, templateObject_2;","map":{"version":3,"sources":["../../../../../atoms/_overlay/overlay.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __makeTemplateObject = (this && this.__makeTemplateObject) || function (cooked, raw) {\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n    return cooked;\n};\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result[\"default\"] = mod;\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = __importStar(require(\"react\"));\nvar ReactDOM = __importStar(require(\"react-dom\"));\nvar styled_1 = __importDefault(require(\"../../styled\"));\nvar tokens_1 = require(\"../../tokens\");\nvar layers = {\n    overlayBackdrop: 20,\n    overlay: 30\n};\nvar keyCodes = {\n    escape: 27\n};\nexports.overlayContentSizes = {\n    small: \"480px\",\n    medium: \"640px\",\n    large: \"800px\"\n};\nvar Overlay = (function (_super) {\n    __extends(Overlay, _super);\n    function Overlay(props) {\n        var _this = _super.call(this, props) || this;\n        _this.contentElementRef = React.createRef();\n        _this.handleMouseDown = function (evt) {\n            var _a = _this.props, closeOnBackdropClick = _a.closeOnBackdropClick, open = _a.open, onClose = _a.onClose;\n            var clickWasOnBackdrop = _this.contentElementRef.current && !_this.contentElementRef.current.contains(evt.target);\n            if (open && closeOnBackdropClick && clickWasOnBackdrop && onClose) {\n                onClose();\n            }\n        };\n        _this.handleDocumentKeyDown = function (evt) {\n            var _a = _this.props, closeOnEscape = _a.closeOnEscape, open = _a.open, onClose = _a.onClose;\n            var escapeWasPressed = evt.which === keyCodes.escape;\n            if (open && closeOnEscape && escapeWasPressed) {\n                evt.preventDefault();\n                if (onClose) {\n                    onClose();\n                }\n            }\n        };\n        _this.state = { hasBeenMounted: false };\n        return _this;\n    }\n    Overlay.getSizeForOverlay = function (propValue) {\n        if (typeof propValue === \"number\") {\n            return propValue + \"px\";\n        }\n        return exports.overlayContentSizes[propValue];\n    };\n    Overlay.prototype.componentDidMount = function () {\n        this.mountElement = document.createElement(\"div\");\n        document.body.appendChild(this.mountElement);\n        document.addEventListener(\"keydown\", this.handleDocumentKeyDown);\n        this.setState(function (prevState, props) { return ({\n            hasBeenMounted: true\n        }); });\n    };\n    Overlay.prototype.componentWillUnmount = function () {\n        document.body.removeChild(this.mountElement);\n        document.removeEventListener(\"keydown\", this.handleDocumentKeyDown);\n    };\n    Overlay.prototype.render = function () {\n        var _a = this.props, open = _a.open, children = _a.children, contentSize = _a.contentSize;\n        if (!this.state.hasBeenMounted) {\n            return null;\n        }\n        var content = open ? (React.createElement(Overlay.Backdrop, { onMouseDown: this.handleMouseDown },\n            React.createElement(Overlay.Element, { contentSize: contentSize, ref: this.contentElementRef }, children))) : null;\n        return ReactDOM.createPortal(content, this.mountElement);\n    };\n    Overlay.defaultProps = {\n        closeOnBackdropClick: true,\n        closeOnEscape: true,\n        open: false\n    };\n    Overlay.Backdrop = styled_1.default.div(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n    position: fixed;\\n    top: 0;\\n    left: 0;\\n    bottom: 0;\\n    right: 0;\\n    z-index: \", \";\\n    background: hsla(0, 12%, 95%, 0.95);\\n    display: flex;\\n    justify-content: center;\\n  \"], [\"\\n    position: fixed;\\n    top: 0;\\n    left: 0;\\n    bottom: 0;\\n    right: 0;\\n    z-index: \", \";\\n    background: hsla(0, 12%, 95%, 0.95);\\n    display: flex;\\n    justify-content: center;\\n  \"])), layers.overlayBackdrop);\n    Overlay.Element = styled_1.default.div(templateObject_2 || (templateObject_2 = __makeTemplateObject([\"\\n    width: 100%;\\n    margin: \", \" \", \";\\n    pointer-events: none;\\n    display: inline-block;\\n\\n    /* Since the focus trap is adding divs around the dialog box, the max width prop should be here */\\n    max-width: \", \";\\n  \"], [\"\\n    width: 100%;\\n    margin: \", \" \", \";\\n    pointer-events: none;\\n    display: inline-block;\\n\\n    /* Since the focus trap is adding divs around the dialog box, the max width prop should be here */\\n    max-width: \", \";\\n  \"])), tokens_1.spacing.xlarge, tokens_1.spacing.small, function (props) { return Overlay.getSizeForOverlay(props.contentSize); });\n    return Overlay;\n}(React.Component));\nexports.default = Overlay;\nvar templateObject_1, templateObject_2;\n//# sourceMappingURL=overlay.js.map"]},"metadata":{},"sourceType":"script"}