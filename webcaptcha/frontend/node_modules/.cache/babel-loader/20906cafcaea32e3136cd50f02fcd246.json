{"ast":null,"code":"\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __makeTemplateObject = this && this.__makeTemplateObject || function (cooked, raw) {\n  if (Object.defineProperty) {\n    Object.defineProperty(cooked, \"raw\", {\n      value: raw\n    });\n  } else {\n    cooked.raw = raw;\n  }\n\n  return cooked;\n};\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n  result[\"default\"] = mod;\n  return result;\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar React = __importStar(require(\"react\"));\n\nvar automation_attribute_1 = __importDefault(require(\"../../_helpers/automation-attribute\"));\n\nvar bytes_conversion_1 = __importDefault(require(\"../../_helpers/bytes-conversion\"));\n\nvar truncate_mid_string_1 = __importDefault(require(\"../../_helpers/truncate-mid-string\"));\n\nvar button_1 = __importDefault(require(\"../../atoms/button\"));\n\nvar icon_1 = __importDefault(require(\"../../atoms/icon\"));\n\nvar styled_1 = __importDefault(require(\"../../styled\"));\n\nvar tokens_1 = require(\"../../tokens\");\n\nvar v2_1 = require(\"../../tokens/v2\");\n\nvar _styled_input_1 = require(\"../_styled-input\");\n\nexports.StyledInput = _styled_input_1.StyledInput;\n\nvar spinner_1 = __importDefault(require(\"../spinner\"));\n\nvar FileInput = function (_super) {\n  __extends(FileInput, _super);\n\n  function FileInput() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.onChangeHandler = function (event) {\n      var items = Array.from(event.target.files).map(function (item) {\n        return {\n          file: item,\n          loading: false\n        };\n      });\n\n      if (_this.props.onChange) {\n        event.target.value = null;\n\n        _this.props.onChange({\n          added: items\n        });\n      }\n    };\n\n    _this.onDeleteHandler = function (index) {\n      if (_this.props.onChange) {\n        _this.props.onChange({\n          deleted: {\n            index: index,\n            file: _this.props.items[index]\n          }\n        });\n      }\n    };\n\n    return _this;\n  }\n\n  FileInput.prototype.render = function () {\n    var _this = this;\n\n    var _a = this.props,\n        multiple = _a.multiple,\n        selectedItems = _a.items,\n        disabled = _a.disabled,\n        accept = _a.accept;\n    return React.createElement(FileInput.Element, __assign({}, automation_attribute_1.default(\"file-input\"), this.props), React.createElement(FileInput.Container, null, React.createElement(FileInput.Input, __assign({\n      disabled: disabled,\n      type: \"file\",\n      multiple: multiple,\n      onChange: this.onChangeHandler,\n      accept: accept\n    }, automation_attribute_1.default(\"file-input.input\"))), React.createElement(FileInput.Label, {\n      htmlFor: \"customFileLong\"\n    }, React.createElement(FileInput.Button, {\n      disabled: disabled,\n      icon: \"plus\"\n    }, \"Choose File\"), selectedItems && React.createElement(FileInput.Text, null, selectedItems.length === 0 ? \"No\" : selectedItems.length, \" file\", selectedItems.length === 1 ? \"\" : \"s\", \" selected\"))), selectedItems.length > 0 && React.createElement(FileInput.List, __assign({}, automation_attribute_1.default(\"file-input.list\")), selectedItems && selectedItems.map(function (item, itemIndex) {\n      var file = item.file;\n\n      var deleteFileHandler = function () {\n        return _this.onDeleteHandler(itemIndex);\n      };\n\n      if (_this.props.renderItem) {\n        return _this.props.renderItem(item, itemIndex, deleteFileHandler);\n      }\n\n      return React.createElement(FileInput.ListItem, __assign({\n        key: itemIndex\n      }, automation_attribute_1.default(\"file-input.list-item\")), React.createElement(FileInput.ListItemBody, null, item.loading ? React.createElement(FileInput.Spinner, null) : React.createElement(icon_1.default, {\n        name: \"attachment\",\n        color: tokens_1.colors.text.secondary,\n        size: 18\n      }), React.createElement(FileInput.FileName, null, truncate_mid_string_1.default(file.name)), React.createElement(FileInput.FileNameWeight, null, bytes_conversion_1.default(file.size))), React.createElement(FileInput.Button, {\n        icon: \"delete\",\n        size: \"small\",\n        appearance: \"link\",\n        label: item.loading ? \"\" : \"Remove\",\n        onClick: deleteFileHandler,\n        disabled: item.loading\n      }));\n    })));\n  };\n\n  FileInput.formatBytes = bytes_conversion_1.default;\n  FileInput.Element = styled_1.default.div(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\"], [\"\"])));\n  FileInput.Button = styled_1.default(button_1.default)(templateObject_2 || (templateObject_2 = __makeTemplateObject([\"\"], [\"\"])));\n  FileInput.Spinner = styled_1.default(spinner_1.default)(templateObject_3 || (templateObject_3 = __makeTemplateObject([\"\\n    margin-right: \", \";\\n  \"], [\"\\n    margin-right: \", \";\\n  \"])), v2_1.spacing.xxsmall);\n  FileInput.Container = styled_1.default.div(templateObject_4 || (templateObject_4 = __makeTemplateObject([\"\\n    position: relative;\\n  \"], [\"\\n    position: relative;\\n  \"])));\n  FileInput.Input = styled_1.default.input(templateObject_5 || (templateObject_5 = __makeTemplateObject([\"\\n    position: relative;\\n    z-index: 2;\\n    width: 100%;\\n    height: \", \";\\n    margin: 0;\\n    opacity: 0;\\n  \"], [\"\\n    position: relative;\\n    z-index: 2;\\n    width: 100%;\\n    height: \", \";\\n    margin: 0;\\n    opacity: 0;\\n  \"])), tokens_1.misc.button.default.height);\n  FileInput.Label = styled_1.default.label(templateObject_6 || (templateObject_6 = __makeTemplateObject([\"\\n    position: absolute;\\n    top: 0;\\n    right: 0;\\n    left: 0;\\n    z-index: 1;\\n    display: flex;\\n    height: \", \";\\n    border-color: yellow;\\n  \"], [\"\\n    position: absolute;\\n    top: 0;\\n    right: 0;\\n    left: 0;\\n    z-index: 1;\\n    display: flex;\\n    height: \", \";\\n    border-color: yellow;\\n  \"])), tokens_1.misc.button.default.height);\n  FileInput.Text = styled_1.default.span(templateObject_7 || (templateObject_7 = __makeTemplateObject([\"\\n    display: block;\\n    flex-grow: 1;\\n    margin-left: 12px;\\n    overflow: hidden;\\n    /* centering with line height because of the ellipse */\\n    line-height: \", \";\\n    align-items: center;\\n    color: black;\\n    text-overflow: ellipsis;\\n    white-space: nowrap;\\n  \"], [\"\\n    display: block;\\n    flex-grow: 1;\\n    margin-left: 12px;\\n    overflow: hidden;\\n    /* centering with line height because of the ellipse */\\n    line-height: \", \";\\n    align-items: center;\\n    color: black;\\n    text-overflow: ellipsis;\\n    white-space: nowrap;\\n  \"])), tokens_1.misc.button.default.height);\n  FileInput.List = styled_1.default.ul(templateObject_8 || (templateObject_8 = __makeTemplateObject([\"\\n    margin-top: \", \";\\n  \"], [\"\\n    margin-top: \", \";\\n  \"])), v2_1.spacing.xsmall);\n  FileInput.ListItem = styled_1.default.li(templateObject_9 || (templateObject_9 = __makeTemplateObject([\"\\n    display: flex;\\n    justify-content: space-between;\\n    align-items: center;\\n    border-bottom: 1px solid #e4e4e4;\\n    padding-top: \", \";\\n    padding-bottom: \", \";\\n  \"], [\"\\n    display: flex;\\n    justify-content: space-between;\\n    align-items: center;\\n    border-bottom: 1px solid #e4e4e4;\\n    padding-top: \", \";\\n    padding-bottom: \", \";\\n  \"])), v2_1.spacing.xsmall, v2_1.spacing.xsmall);\n  FileInput.ListItemBody = styled_1.default.div(templateObject_10 || (templateObject_10 = __makeTemplateObject([\"\\n    display: flex;\\n    align-items: center;\\n  \"], [\"\\n    display: flex;\\n    align-items: center;\\n  \"])));\n  FileInput.FileName = styled_1.default.span(templateObject_11 || (templateObject_11 = __makeTemplateObject([\"\\n    margin-left: \", \";\\n  \"], [\"\\n    margin-left: \", \";\\n  \"])), v2_1.spacing.xsmall);\n  FileInput.FileNameWeight = styled_1.default.span(templateObject_12 || (templateObject_12 = __makeTemplateObject([\"\\n    margin-left: 12px;\\n    color: \", \";\\n  \"], [\"\\n    margin-left: 12px;\\n    color: \", \";\\n  \"])), tokens_1.colors.text.secondary);\n  FileInput.Card = styled_1.default.div(templateObject_13 || (templateObject_13 = __makeTemplateObject([\"\\n    border: 1px solid #e4e4e4;\\n    border-radius: 3px;\\n    padding: \", \";\\n  \"], [\"\\n    border: 1px solid #e4e4e4;\\n    border-radius: 3px;\\n    padding: \", \";\\n  \"])), v2_1.spacing.small);\n  FileInput.defaultProps = {\n    multiple: false\n  };\n  return FileInput;\n}(React.Component);\n\nexports.default = FileInput;\nvar templateObject_1, templateObject_2, templateObject_3, templateObject_4, templateObject_5, templateObject_6, templateObject_7, templateObject_8, templateObject_9, templateObject_10, templateObject_11, templateObject_12, templateObject_13;","map":{"version":3,"sources":["../../../../../atoms/file-input/file-input.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __makeTemplateObject = (this && this.__makeTemplateObject) || function (cooked, raw) {\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n    return cooked;\n};\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result[\"default\"] = mod;\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = __importStar(require(\"react\"));\nvar automation_attribute_1 = __importDefault(require(\"../../_helpers/automation-attribute\"));\nvar bytes_conversion_1 = __importDefault(require(\"../../_helpers/bytes-conversion\"));\nvar truncate_mid_string_1 = __importDefault(require(\"../../_helpers/truncate-mid-string\"));\nvar button_1 = __importDefault(require(\"../../atoms/button\"));\nvar icon_1 = __importDefault(require(\"../../atoms/icon\"));\nvar styled_1 = __importDefault(require(\"../../styled\"));\nvar tokens_1 = require(\"../../tokens\");\nvar v2_1 = require(\"../../tokens/v2\");\nvar _styled_input_1 = require(\"../_styled-input\");\nexports.StyledInput = _styled_input_1.StyledInput;\nvar spinner_1 = __importDefault(require(\"../spinner\"));\nvar FileInput = (function (_super) {\n    __extends(FileInput, _super);\n    function FileInput() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.onChangeHandler = function (event) {\n            var items = Array.from(event.target.files).map(function (item) { return ({ file: item, loading: false }); });\n            if (_this.props.onChange) {\n                event.target.value = null;\n                _this.props.onChange({ added: items });\n            }\n        };\n        _this.onDeleteHandler = function (index) {\n            if (_this.props.onChange) {\n                _this.props.onChange({ deleted: { index: index, file: _this.props.items[index] } });\n            }\n        };\n        return _this;\n    }\n    FileInput.prototype.render = function () {\n        var _this = this;\n        var _a = this.props, multiple = _a.multiple, selectedItems = _a.items, disabled = _a.disabled, accept = _a.accept;\n        return (React.createElement(FileInput.Element, __assign({}, automation_attribute_1.default(\"file-input\"), this.props),\n            React.createElement(FileInput.Container, null,\n                React.createElement(FileInput.Input, __assign({ disabled: disabled, type: \"file\", multiple: multiple, onChange: this.onChangeHandler, accept: accept }, automation_attribute_1.default(\"file-input.input\"))),\n                React.createElement(FileInput.Label, { htmlFor: \"customFileLong\" },\n                    React.createElement(FileInput.Button, { disabled: disabled, icon: \"plus\" }, \"Choose File\"),\n                    selectedItems && (React.createElement(FileInput.Text, null,\n                        selectedItems.length === 0 ? \"No\" : selectedItems.length,\n                        \" file\",\n                        selectedItems.length === 1 ? \"\" : \"s\",\n                        \" selected\")))),\n            selectedItems.length > 0 && (React.createElement(FileInput.List, __assign({}, automation_attribute_1.default(\"file-input.list\")), selectedItems &&\n                selectedItems.map(function (item, itemIndex) {\n                    var file = item.file;\n                    var deleteFileHandler = function () { return _this.onDeleteHandler(itemIndex); };\n                    if (_this.props.renderItem) {\n                        return _this.props.renderItem(item, itemIndex, deleteFileHandler);\n                    }\n                    return (React.createElement(FileInput.ListItem, __assign({ key: itemIndex }, automation_attribute_1.default(\"file-input.list-item\")),\n                        React.createElement(FileInput.ListItemBody, null,\n                            item.loading ? (React.createElement(FileInput.Spinner, null)) : (React.createElement(icon_1.default, { name: \"attachment\", color: tokens_1.colors.text.secondary, size: 18 })),\n                            React.createElement(FileInput.FileName, null, truncate_mid_string_1.default(file.name)),\n                            React.createElement(FileInput.FileNameWeight, null, bytes_conversion_1.default(file.size))),\n                        React.createElement(FileInput.Button, { icon: \"delete\", size: \"small\", appearance: \"link\", label: item.loading ? \"\" : \"Remove\", onClick: deleteFileHandler, disabled: item.loading })));\n                })))));\n    };\n    FileInput.formatBytes = bytes_conversion_1.default;\n    FileInput.Element = styled_1.default.div(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\"], [\"\"])));\n    FileInput.Button = styled_1.default(button_1.default)(templateObject_2 || (templateObject_2 = __makeTemplateObject([\"\"], [\"\"])));\n    FileInput.Spinner = styled_1.default(spinner_1.default)(templateObject_3 || (templateObject_3 = __makeTemplateObject([\"\\n    margin-right: \", \";\\n  \"], [\"\\n    margin-right: \", \";\\n  \"])), v2_1.spacing.xxsmall);\n    FileInput.Container = styled_1.default.div(templateObject_4 || (templateObject_4 = __makeTemplateObject([\"\\n    position: relative;\\n  \"], [\"\\n    position: relative;\\n  \"])));\n    FileInput.Input = styled_1.default.input(templateObject_5 || (templateObject_5 = __makeTemplateObject([\"\\n    position: relative;\\n    z-index: 2;\\n    width: 100%;\\n    height: \", \";\\n    margin: 0;\\n    opacity: 0;\\n  \"], [\"\\n    position: relative;\\n    z-index: 2;\\n    width: 100%;\\n    height: \", \";\\n    margin: 0;\\n    opacity: 0;\\n  \"])), tokens_1.misc.button.default.height);\n    FileInput.Label = styled_1.default.label(templateObject_6 || (templateObject_6 = __makeTemplateObject([\"\\n    position: absolute;\\n    top: 0;\\n    right: 0;\\n    left: 0;\\n    z-index: 1;\\n    display: flex;\\n    height: \", \";\\n    border-color: yellow;\\n  \"], [\"\\n    position: absolute;\\n    top: 0;\\n    right: 0;\\n    left: 0;\\n    z-index: 1;\\n    display: flex;\\n    height: \", \";\\n    border-color: yellow;\\n  \"])), tokens_1.misc.button.default.height);\n    FileInput.Text = styled_1.default.span(templateObject_7 || (templateObject_7 = __makeTemplateObject([\"\\n    display: block;\\n    flex-grow: 1;\\n    margin-left: 12px;\\n    overflow: hidden;\\n    /* centering with line height because of the ellipse */\\n    line-height: \", \";\\n    align-items: center;\\n    color: black;\\n    text-overflow: ellipsis;\\n    white-space: nowrap;\\n  \"], [\"\\n    display: block;\\n    flex-grow: 1;\\n    margin-left: 12px;\\n    overflow: hidden;\\n    /* centering with line height because of the ellipse */\\n    line-height: \", \";\\n    align-items: center;\\n    color: black;\\n    text-overflow: ellipsis;\\n    white-space: nowrap;\\n  \"])), tokens_1.misc.button.default.height);\n    FileInput.List = styled_1.default.ul(templateObject_8 || (templateObject_8 = __makeTemplateObject([\"\\n    margin-top: \", \";\\n  \"], [\"\\n    margin-top: \", \";\\n  \"])), v2_1.spacing.xsmall);\n    FileInput.ListItem = styled_1.default.li(templateObject_9 || (templateObject_9 = __makeTemplateObject([\"\\n    display: flex;\\n    justify-content: space-between;\\n    align-items: center;\\n    border-bottom: 1px solid #e4e4e4;\\n    padding-top: \", \";\\n    padding-bottom: \", \";\\n  \"], [\"\\n    display: flex;\\n    justify-content: space-between;\\n    align-items: center;\\n    border-bottom: 1px solid #e4e4e4;\\n    padding-top: \", \";\\n    padding-bottom: \", \";\\n  \"])), v2_1.spacing.xsmall, v2_1.spacing.xsmall);\n    FileInput.ListItemBody = styled_1.default.div(templateObject_10 || (templateObject_10 = __makeTemplateObject([\"\\n    display: flex;\\n    align-items: center;\\n  \"], [\"\\n    display: flex;\\n    align-items: center;\\n  \"])));\n    FileInput.FileName = styled_1.default.span(templateObject_11 || (templateObject_11 = __makeTemplateObject([\"\\n    margin-left: \", \";\\n  \"], [\"\\n    margin-left: \", \";\\n  \"])), v2_1.spacing.xsmall);\n    FileInput.FileNameWeight = styled_1.default.span(templateObject_12 || (templateObject_12 = __makeTemplateObject([\"\\n    margin-left: 12px;\\n    color: \", \";\\n  \"], [\"\\n    margin-left: 12px;\\n    color: \", \";\\n  \"])), tokens_1.colors.text.secondary);\n    FileInput.Card = styled_1.default.div(templateObject_13 || (templateObject_13 = __makeTemplateObject([\"\\n    border: 1px solid #e4e4e4;\\n    border-radius: 3px;\\n    padding: \", \";\\n  \"], [\"\\n    border: 1px solid #e4e4e4;\\n    border-radius: 3px;\\n    padding: \", \";\\n  \"])), v2_1.spacing.small);\n    FileInput.defaultProps = {\n        multiple: false,\n    };\n    return FileInput;\n}(React.Component));\nexports.default = FileInput;\nvar templateObject_1, templateObject_2, templateObject_3, templateObject_4, templateObject_5, templateObject_6, templateObject_7, templateObject_8, templateObject_9, templateObject_10, templateObject_11, templateObject_12, templateObject_13;\n//# sourceMappingURL=file-input.js.map"]},"metadata":{},"sourceType":"script"}