{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MenuPortal = exports.menuPortalCSS = exports.LoadingMessage = exports.NoOptionsMessage = exports.loadingMessageCSS = exports.noOptionsMessageCSS = exports.MenuList = exports.menuListCSS = exports.MenuPlacer = exports.menuCSS = undefined;\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nexports.getMenuPlacement = getMenuPlacement;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _emotion = require('emotion');\n\nvar _reactDom = require('react-dom');\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _utils = require('../utils');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n} // ==============================\n// Menu\n// ==============================\n// Get Menu Placement\n// ------------------------------\n\n\nfunction getMenuPlacement(_ref) {\n  var maxHeight = _ref.maxHeight,\n      menuEl = _ref.menuEl,\n      minHeight = _ref.minHeight,\n      placement = _ref.placement,\n      shouldScroll = _ref.shouldScroll,\n      isFixedPosition = _ref.isFixedPosition,\n      theme = _ref.theme;\n  var spacing = theme.spacing;\n  var scrollParent = (0, _utils.getScrollParent)(menuEl);\n  var defaultState = {\n    placement: 'bottom',\n    maxHeight: maxHeight\n  }; // something went wrong, return default state\n\n  if (!menuEl || !menuEl.offsetParent) return defaultState; // we can't trust `scrollParent.scrollHeight` --> it may increase when\n  // the menu is rendered\n\n  var _scrollParent$getBoun = scrollParent.getBoundingClientRect(),\n      scrollHeight = _scrollParent$getBoun.height;\n\n  var _menuEl$getBoundingCl = menuEl.getBoundingClientRect(),\n      menuBottom = _menuEl$getBoundingCl.bottom,\n      menuHeight = _menuEl$getBoundingCl.height,\n      menuTop = _menuEl$getBoundingCl.top; // $FlowFixMe function returns above if there's no offsetParent\n\n\n  var _menuEl$offsetParent$ = menuEl.offsetParent.getBoundingClientRect(),\n      containerTop = _menuEl$offsetParent$.top;\n\n  var viewHeight = window.innerHeight;\n  var scrollTop = (0, _utils.getScrollTop)(scrollParent);\n  var marginBottom = parseInt(getComputedStyle(menuEl).marginBottom, 10);\n  var marginTop = parseInt(getComputedStyle(menuEl).marginTop, 10);\n  var viewSpaceAbove = containerTop - marginTop;\n  var viewSpaceBelow = viewHeight - menuTop;\n  var scrollSpaceAbove = viewSpaceAbove + scrollTop;\n  var scrollSpaceBelow = scrollHeight - scrollTop - menuTop;\n  var scrollDown = menuBottom - viewHeight + scrollTop + marginBottom;\n  var scrollUp = scrollTop + menuTop - marginTop;\n  var scrollDuration = 160;\n\n  switch (placement) {\n    case 'auto':\n    case 'bottom':\n      // 1: the menu will fit, do nothing\n      if (viewSpaceBelow >= menuHeight) {\n        return {\n          placement: 'bottom',\n          maxHeight: maxHeight\n        };\n      } // 2: the menu will fit, if scrolled\n\n\n      if (scrollSpaceBelow >= menuHeight && !isFixedPosition) {\n        if (shouldScroll) {\n          (0, _utils.animatedScrollTo)(scrollParent, scrollDown, scrollDuration);\n        }\n\n        return {\n          placement: 'bottom',\n          maxHeight: maxHeight\n        };\n      } // 3: the menu will fit, if constrained\n\n\n      if (!isFixedPosition && scrollSpaceBelow >= minHeight || isFixedPosition && viewSpaceBelow >= minHeight) {\n        if (shouldScroll) {\n          (0, _utils.animatedScrollTo)(scrollParent, scrollDown, scrollDuration);\n        } // we want to provide as much of the menu as possible to the user,\n        // so give them whatever is available below rather than the minHeight.\n\n\n        var constrainedHeight = isFixedPosition ? viewSpaceBelow - marginBottom : scrollSpaceBelow - marginBottom;\n        return {\n          placement: 'bottom',\n          maxHeight: constrainedHeight\n        };\n      } // 4. Forked beviour when there isn't enough space below\n      // AUTO: flip the menu, render above\n\n\n      if (placement === 'auto' || isFixedPosition) {\n        // may need to be constrained after flipping\n        var _constrainedHeight = maxHeight;\n        var spaceAbove = isFixedPosition ? viewSpaceAbove : scrollSpaceAbove;\n\n        if (spaceAbove >= minHeight) {\n          _constrainedHeight = Math.min(spaceAbove - marginBottom - spacing.controlHeight, maxHeight);\n        }\n\n        return {\n          placement: 'top',\n          maxHeight: _constrainedHeight\n        };\n      } // BOTTOM: allow browser to increase scrollable area and immediately set scroll\n\n\n      if (placement === 'bottom') {\n        (0, _utils.scrollTo)(scrollParent, scrollDown);\n        return {\n          placement: 'bottom',\n          maxHeight: maxHeight\n        };\n      }\n\n      break;\n\n    case 'top':\n      // 1: the menu will fit, do nothing\n      if (viewSpaceAbove >= menuHeight) {\n        return {\n          placement: 'top',\n          maxHeight: maxHeight\n        };\n      } // 2: the menu will fit, if scrolled\n\n\n      if (scrollSpaceAbove >= menuHeight && !isFixedPosition) {\n        if (shouldScroll) {\n          (0, _utils.animatedScrollTo)(scrollParent, scrollUp, scrollDuration);\n        }\n\n        return {\n          placement: 'top',\n          maxHeight: maxHeight\n        };\n      } // 3: the menu will fit, if constrained\n\n\n      if (!isFixedPosition && scrollSpaceAbove >= minHeight || isFixedPosition && viewSpaceAbove >= minHeight) {\n        var _constrainedHeight2 = maxHeight; // we want to provide as much of the menu as possible to the user,\n        // so give them whatever is available below rather than the minHeight.\n\n        if (!isFixedPosition && scrollSpaceAbove >= minHeight || isFixedPosition && viewSpaceAbove >= minHeight) {\n          _constrainedHeight2 = isFixedPosition ? viewSpaceAbove - marginTop : scrollSpaceAbove - marginTop;\n        }\n\n        if (shouldScroll) {\n          (0, _utils.animatedScrollTo)(scrollParent, scrollUp, scrollDuration);\n        }\n\n        return {\n          placement: 'top',\n          maxHeight: _constrainedHeight2\n        };\n      } // 4. not enough space, the browser WILL NOT increase scrollable area when\n      // absolutely positioned element rendered above the viewport (only below).\n      // Flip the menu, render below\n\n\n      return {\n        placement: 'bottom',\n        maxHeight: maxHeight\n      };\n\n    default:\n      throw new Error('Invalid placement provided \"' + placement + '\".');\n  } // fulfil contract with flow: implicit return value of undefined\n\n\n  return defaultState;\n} // Menu Component\n// ------------------------------\n\n\nfunction alignToControl(placement) {\n  var placementToCSSProp = {\n    bottom: 'top',\n    top: 'bottom'\n  };\n  return placement ? placementToCSSProp[placement] : 'bottom';\n}\n\nvar coercePlacement = function coercePlacement(p) {\n  return p === 'auto' ? 'bottom' : p;\n};\n\nvar menuCSS = exports.menuCSS = function menuCSS(_ref2) {\n  var _ref3;\n\n  var placement = _ref2.placement,\n      _ref2$theme = _ref2.theme,\n      borderRadius = _ref2$theme.borderRadius,\n      spacing = _ref2$theme.spacing,\n      colors = _ref2$theme.colors;\n  return _ref3 = {}, _defineProperty(_ref3, alignToControl(placement), '100%'), _defineProperty(_ref3, 'backgroundColor', colors.neutral0), _defineProperty(_ref3, 'borderRadius', borderRadius), _defineProperty(_ref3, 'boxShadow', '0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)'), _defineProperty(_ref3, 'marginBottom', spacing.menuGutter), _defineProperty(_ref3, 'marginTop', spacing.menuGutter), _defineProperty(_ref3, 'position', 'absolute'), _defineProperty(_ref3, 'width', '100%'), _defineProperty(_ref3, 'zIndex', 1), _ref3;\n}; // NOTE: internal only\n\n\nvar MenuPlacer = exports.MenuPlacer = function (_Component) {\n  _inherits(MenuPlacer, _Component);\n\n  function MenuPlacer() {\n    var _ref4;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, MenuPlacer);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref4 = MenuPlacer.__proto__ || Object.getPrototypeOf(MenuPlacer)).call.apply(_ref4, [this].concat(args))), _this), _this.state = {\n      maxHeight: _this.props.maxMenuHeight,\n      placement: null\n    }, _this.getPlacement = function (ref) {\n      var _this$props = _this.props,\n          minMenuHeight = _this$props.minMenuHeight,\n          maxMenuHeight = _this$props.maxMenuHeight,\n          menuPlacement = _this$props.menuPlacement,\n          menuPosition = _this$props.menuPosition,\n          menuShouldScrollIntoView = _this$props.menuShouldScrollIntoView,\n          theme = _this$props.theme;\n      var getPortalPlacement = _this.context.getPortalPlacement;\n      if (!ref) return; // DO NOT scroll if position is fixed\n\n      var isFixedPosition = menuPosition === 'fixed';\n      var shouldScroll = menuShouldScrollIntoView && !isFixedPosition;\n      var state = getMenuPlacement({\n        maxHeight: maxMenuHeight,\n        menuEl: ref,\n        minHeight: minMenuHeight,\n        placement: menuPlacement,\n        shouldScroll: shouldScroll,\n        isFixedPosition: isFixedPosition,\n        theme: theme\n      });\n      if (getPortalPlacement) getPortalPlacement(state);\n\n      _this.setState(state);\n    }, _this.getUpdatedProps = function () {\n      var menuPlacement = _this.props.menuPlacement;\n      var placement = _this.state.placement || coercePlacement(menuPlacement);\n      return _extends({}, _this.props, {\n        placement: placement,\n        maxHeight: _this.state.maxHeight\n      });\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(MenuPlacer, [{\n    key: 'render',\n    value: function render() {\n      var children = this.props.children;\n      return children({\n        ref: this.getPlacement,\n        placerProps: this.getUpdatedProps()\n      });\n    }\n  }]);\n\n  return MenuPlacer;\n}(_react.Component);\n\nMenuPlacer.contextTypes = {\n  getPortalPlacement: _propTypes2.default.func\n};\n\nvar Menu = function Menu(props) {\n  var children = props.children,\n      className = props.className,\n      cx = props.cx,\n      getStyles = props.getStyles,\n      innerRef = props.innerRef,\n      innerProps = props.innerProps;\n  var cn = cx( /*#__PURE__*/(0, _emotion.css)(getStyles('menu', props)), {\n    menu: true\n  }, className);\n  return _react2.default.createElement('div', _extends({\n    className: cn\n  }, innerProps, {\n    ref: innerRef\n  }), children);\n};\n\nexports.default = Menu; // ==============================\n// Menu List\n// ==============================\n\nvar menuListCSS = exports.menuListCSS = function menuListCSS(_ref5) {\n  var maxHeight = _ref5.maxHeight,\n      baseUnit = _ref5.theme.spacing.baseUnit;\n  return {\n    maxHeight: maxHeight,\n    overflowY: 'auto',\n    paddingBottom: baseUnit,\n    paddingTop: baseUnit,\n    position: 'relative',\n    // required for offset[Height, Top] > keyboard scroll\n    WebkitOverflowScrolling: 'touch'\n  };\n};\n\nvar MenuList = exports.MenuList = function MenuList(props) {\n  var children = props.children,\n      className = props.className,\n      cx = props.cx,\n      getStyles = props.getStyles,\n      isMulti = props.isMulti,\n      innerRef = props.innerRef;\n  return _react2.default.createElement('div', {\n    className: cx( /*#__PURE__*/(0, _emotion.css)(getStyles('menuList', props)), {\n      'menu-list': true,\n      'menu-list--is-multi': isMulti\n    }, className),\n    ref: innerRef\n  }, children);\n}; // ==============================\n// Menu Notices\n// ==============================\n\n\nvar noticeCSS = function noticeCSS(_ref6) {\n  var _ref6$theme = _ref6.theme,\n      baseUnit = _ref6$theme.spacing.baseUnit,\n      colors = _ref6$theme.colors;\n  return {\n    color: colors.neutral40,\n    padding: baseUnit * 2 + 'px ' + baseUnit * 3 + 'px',\n    textAlign: 'center'\n  };\n};\n\nvar noOptionsMessageCSS = exports.noOptionsMessageCSS = noticeCSS;\nvar loadingMessageCSS = exports.loadingMessageCSS = noticeCSS;\n\nvar NoOptionsMessage = exports.NoOptionsMessage = function NoOptionsMessage(props) {\n  var children = props.children,\n      className = props.className,\n      cx = props.cx,\n      getStyles = props.getStyles,\n      innerProps = props.innerProps;\n  return _react2.default.createElement('div', _extends({\n    className: cx( /*#__PURE__*/(0, _emotion.css)(getStyles('noOptionsMessage', props)), {\n      'menu-notice': true,\n      'menu-notice--no-options': true\n    }, className)\n  }, innerProps), children);\n};\n\nNoOptionsMessage.defaultProps = {\n  children: 'No options'\n};\n\nvar LoadingMessage = exports.LoadingMessage = function LoadingMessage(props) {\n  var children = props.children,\n      className = props.className,\n      cx = props.cx,\n      getStyles = props.getStyles,\n      innerProps = props.innerProps;\n  return _react2.default.createElement('div', _extends({\n    className: cx( /*#__PURE__*/(0, _emotion.css)(getStyles('loadingMessage', props)), {\n      'menu-notice': true,\n      'menu-notice--loading': true\n    }, className)\n  }, innerProps), children);\n};\n\nLoadingMessage.defaultProps = {\n  children: 'Loading...'\n}; // ==============================\n// Menu Portal\n// ==============================\n\nvar menuPortalCSS = exports.menuPortalCSS = function menuPortalCSS(_ref7) {\n  var rect = _ref7.rect,\n      offset = _ref7.offset,\n      position = _ref7.position;\n  return {\n    left: rect.left,\n    position: position,\n    top: offset,\n    width: rect.width,\n    zIndex: 1\n  };\n};\n\nvar MenuPortal = exports.MenuPortal = function (_Component2) {\n  _inherits(MenuPortal, _Component2);\n\n  function MenuPortal() {\n    var _ref8;\n\n    var _temp2, _this2, _ret2;\n\n    _classCallCheck(this, MenuPortal);\n\n    for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    return _ret2 = (_temp2 = (_this2 = _possibleConstructorReturn(this, (_ref8 = MenuPortal.__proto__ || Object.getPrototypeOf(MenuPortal)).call.apply(_ref8, [this].concat(args))), _this2), _this2.state = {\n      placement: null\n    }, _this2.getPortalPlacement = function (_ref9) {\n      var placement = _ref9.placement;\n      var initialPlacement = coercePlacement(_this2.props.menuPlacement); // avoid re-renders if the placement has not changed\n\n      if (placement !== initialPlacement) {\n        _this2.setState({\n          placement: placement\n        });\n      }\n    }, _temp2), _possibleConstructorReturn(_this2, _ret2);\n  }\n\n  _createClass(MenuPortal, [{\n    key: 'getChildContext',\n    value: function getChildContext() {\n      return {\n        getPortalPlacement: this.getPortalPlacement\n      };\n    } // callback for occassions where the menu must \"flip\"\n\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          appendTo = _props.appendTo,\n          children = _props.children,\n          controlElement = _props.controlElement,\n          menuPlacement = _props.menuPlacement,\n          position = _props.menuPosition,\n          getStyles = _props.getStyles;\n      var isFixed = position === 'fixed'; // bail early if required elements aren't present\n\n      if (!appendTo && !isFixed || !controlElement) {\n        return null;\n      }\n\n      var placement = this.state.placement || coercePlacement(menuPlacement);\n      var rect = (0, _utils.getBoundingClientObj)(controlElement);\n      var scrollDistance = isFixed ? 0 : window.pageYOffset;\n      var offset = rect[placement] + scrollDistance;\n      var state = {\n        offset: offset,\n        position: position,\n        rect: rect\n      }; // same wrapper element whether fixed or portalled\n\n      var menuWrapper = _react2.default.createElement('div', {\n        className:\n        /*#__PURE__*/\n\n        /*#__PURE__*/\n        (0, _emotion.css)(getStyles('menuPortal', state))\n      }, children);\n\n      return appendTo ? (0, _reactDom.createPortal)(menuWrapper, appendTo) : menuWrapper;\n    }\n  }]);\n\n  return MenuPortal;\n}(_react.Component);\n\nMenuPortal.childContextTypes = {\n  getPortalPlacement: _propTypes2.default.func\n};","map":{"version":3,"sources":["/Users/pnasc/Desktop/hackauthon/team-418-teapot/webcaptcha/node_modules/react-select/lib/components/Menu.js"],"names":["Object","defineProperty","exports","value","MenuPortal","menuPortalCSS","LoadingMessage","NoOptionsMessage","loadingMessageCSS","noOptionsMessageCSS","MenuList","menuListCSS","MenuPlacer","menuCSS","undefined","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_createClass","defineProperties","props","descriptor","enumerable","configurable","writable","Constructor","protoProps","staticProps","getMenuPlacement","_react","require","_react2","_interopRequireDefault","_emotion","_reactDom","_propTypes","_propTypes2","_utils","obj","__esModule","default","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","_defineProperty","_ref","maxHeight","menuEl","minHeight","placement","shouldScroll","isFixedPosition","theme","spacing","scrollParent","getScrollParent","defaultState","offsetParent","_scrollParent$getBoun","getBoundingClientRect","scrollHeight","height","_menuEl$getBoundingCl","menuBottom","bottom","menuHeight","menuTop","top","_menuEl$offsetParent$","containerTop","viewHeight","window","innerHeight","scrollTop","getScrollTop","marginBottom","parseInt","getComputedStyle","marginTop","viewSpaceAbove","viewSpaceBelow","scrollSpaceAbove","scrollSpaceBelow","scrollDown","scrollUp","scrollDuration","animatedScrollTo","constrainedHeight","_constrainedHeight","spaceAbove","Math","min","controlHeight","scrollTo","_constrainedHeight2","Error","alignToControl","placementToCSSProp","coercePlacement","p","_ref2","_ref3","_ref2$theme","borderRadius","colors","neutral0","menuGutter","_Component","_ref4","_temp","_this","_ret","_len","args","Array","_key","getPrototypeOf","apply","concat","state","maxMenuHeight","getPlacement","ref","_this$props","minMenuHeight","menuPlacement","menuPosition","menuShouldScrollIntoView","getPortalPlacement","context","setState","getUpdatedProps","render","children","placerProps","Component","contextTypes","func","Menu","className","cx","getStyles","innerRef","innerProps","cn","css","menu","createElement","_ref5","baseUnit","overflowY","paddingBottom","paddingTop","position","WebkitOverflowScrolling","isMulti","noticeCSS","_ref6","_ref6$theme","color","neutral40","padding","textAlign","defaultProps","_ref7","rect","offset","left","width","zIndex","_Component2","_ref8","_temp2","_this2","_ret2","_len2","_key2","_ref9","initialPlacement","getChildContext","_props","appendTo","controlElement","isFixed","getBoundingClientObj","scrollDistance","pageYOffset","menuWrapper","createPortal","childContextTypes"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MenuPortal = exports.menuPortalCSS = exports.LoadingMessage = exports.NoOptionsMessage = exports.loadingMessageCSS = exports.noOptionsMessageCSS = exports.MenuList = exports.menuListCSS = exports.MenuPlacer = exports.menuCSS = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nexports.getMenuPlacement = getMenuPlacement;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _emotion = require('emotion');\n\nvar _reactDom = require('react-dom');\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _utils = require('../utils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n// ==============================\n// Menu\n// ==============================\n\n// Get Menu Placement\n// ------------------------------\n\nfunction getMenuPlacement(_ref) {\n  var maxHeight = _ref.maxHeight,\n      menuEl = _ref.menuEl,\n      minHeight = _ref.minHeight,\n      placement = _ref.placement,\n      shouldScroll = _ref.shouldScroll,\n      isFixedPosition = _ref.isFixedPosition,\n      theme = _ref.theme;\n  var spacing = theme.spacing;\n\n  var scrollParent = (0, _utils.getScrollParent)(menuEl);\n  var defaultState = { placement: 'bottom', maxHeight: maxHeight };\n\n  // something went wrong, return default state\n  if (!menuEl || !menuEl.offsetParent) return defaultState;\n\n  // we can't trust `scrollParent.scrollHeight` --> it may increase when\n  // the menu is rendered\n\n  var _scrollParent$getBoun = scrollParent.getBoundingClientRect(),\n      scrollHeight = _scrollParent$getBoun.height;\n\n  var _menuEl$getBoundingCl = menuEl.getBoundingClientRect(),\n      menuBottom = _menuEl$getBoundingCl.bottom,\n      menuHeight = _menuEl$getBoundingCl.height,\n      menuTop = _menuEl$getBoundingCl.top;\n\n  // $FlowFixMe function returns above if there's no offsetParent\n\n\n  var _menuEl$offsetParent$ = menuEl.offsetParent.getBoundingClientRect(),\n      containerTop = _menuEl$offsetParent$.top;\n\n  var viewHeight = window.innerHeight;\n  var scrollTop = (0, _utils.getScrollTop)(scrollParent);\n\n  var marginBottom = parseInt(getComputedStyle(menuEl).marginBottom, 10);\n  var marginTop = parseInt(getComputedStyle(menuEl).marginTop, 10);\n  var viewSpaceAbove = containerTop - marginTop;\n  var viewSpaceBelow = viewHeight - menuTop;\n  var scrollSpaceAbove = viewSpaceAbove + scrollTop;\n  var scrollSpaceBelow = scrollHeight - scrollTop - menuTop;\n\n  var scrollDown = menuBottom - viewHeight + scrollTop + marginBottom;\n  var scrollUp = scrollTop + menuTop - marginTop;\n  var scrollDuration = 160;\n\n  switch (placement) {\n    case 'auto':\n    case 'bottom':\n      // 1: the menu will fit, do nothing\n      if (viewSpaceBelow >= menuHeight) {\n        return { placement: 'bottom', maxHeight: maxHeight };\n      }\n\n      // 2: the menu will fit, if scrolled\n      if (scrollSpaceBelow >= menuHeight && !isFixedPosition) {\n        if (shouldScroll) {\n          (0, _utils.animatedScrollTo)(scrollParent, scrollDown, scrollDuration);\n        }\n\n        return { placement: 'bottom', maxHeight: maxHeight };\n      }\n\n      // 3: the menu will fit, if constrained\n      if (!isFixedPosition && scrollSpaceBelow >= minHeight || isFixedPosition && viewSpaceBelow >= minHeight) {\n        if (shouldScroll) {\n          (0, _utils.animatedScrollTo)(scrollParent, scrollDown, scrollDuration);\n        }\n\n        // we want to provide as much of the menu as possible to the user,\n        // so give them whatever is available below rather than the minHeight.\n        var constrainedHeight = isFixedPosition ? viewSpaceBelow - marginBottom : scrollSpaceBelow - marginBottom;\n\n        return {\n          placement: 'bottom',\n          maxHeight: constrainedHeight\n        };\n      }\n\n      // 4. Forked beviour when there isn't enough space below\n\n      // AUTO: flip the menu, render above\n      if (placement === 'auto' || isFixedPosition) {\n        // may need to be constrained after flipping\n        var _constrainedHeight = maxHeight;\n        var spaceAbove = isFixedPosition ? viewSpaceAbove : scrollSpaceAbove;\n\n        if (spaceAbove >= minHeight) {\n          _constrainedHeight = Math.min(spaceAbove - marginBottom - spacing.controlHeight, maxHeight);\n        }\n\n        return { placement: 'top', maxHeight: _constrainedHeight };\n      }\n\n      // BOTTOM: allow browser to increase scrollable area and immediately set scroll\n      if (placement === 'bottom') {\n        (0, _utils.scrollTo)(scrollParent, scrollDown);\n        return { placement: 'bottom', maxHeight: maxHeight };\n      }\n      break;\n    case 'top':\n      // 1: the menu will fit, do nothing\n      if (viewSpaceAbove >= menuHeight) {\n        return { placement: 'top', maxHeight: maxHeight };\n      }\n\n      // 2: the menu will fit, if scrolled\n      if (scrollSpaceAbove >= menuHeight && !isFixedPosition) {\n        if (shouldScroll) {\n          (0, _utils.animatedScrollTo)(scrollParent, scrollUp, scrollDuration);\n        }\n\n        return { placement: 'top', maxHeight: maxHeight };\n      }\n\n      // 3: the menu will fit, if constrained\n      if (!isFixedPosition && scrollSpaceAbove >= minHeight || isFixedPosition && viewSpaceAbove >= minHeight) {\n        var _constrainedHeight2 = maxHeight;\n\n        // we want to provide as much of the menu as possible to the user,\n        // so give them whatever is available below rather than the minHeight.\n        if (!isFixedPosition && scrollSpaceAbove >= minHeight || isFixedPosition && viewSpaceAbove >= minHeight) {\n          _constrainedHeight2 = isFixedPosition ? viewSpaceAbove - marginTop : scrollSpaceAbove - marginTop;\n        }\n\n        if (shouldScroll) {\n          (0, _utils.animatedScrollTo)(scrollParent, scrollUp, scrollDuration);\n        }\n\n        return {\n          placement: 'top',\n          maxHeight: _constrainedHeight2\n        };\n      }\n\n      // 4. not enough space, the browser WILL NOT increase scrollable area when\n      // absolutely positioned element rendered above the viewport (only below).\n      // Flip the menu, render below\n      return { placement: 'bottom', maxHeight: maxHeight };\n    default:\n      throw new Error('Invalid placement provided \"' + placement + '\".');\n  }\n\n  // fulfil contract with flow: implicit return value of undefined\n  return defaultState;\n}\n\n// Menu Component\n// ------------------------------\n\nfunction alignToControl(placement) {\n  var placementToCSSProp = { bottom: 'top', top: 'bottom' };\n  return placement ? placementToCSSProp[placement] : 'bottom';\n}\nvar coercePlacement = function coercePlacement(p) {\n  return p === 'auto' ? 'bottom' : p;\n};\n\nvar menuCSS = exports.menuCSS = function menuCSS(_ref2) {\n  var _ref3;\n\n  var placement = _ref2.placement,\n      _ref2$theme = _ref2.theme,\n      borderRadius = _ref2$theme.borderRadius,\n      spacing = _ref2$theme.spacing,\n      colors = _ref2$theme.colors;\n  return _ref3 = {}, _defineProperty(_ref3, alignToControl(placement), '100%'), _defineProperty(_ref3, 'backgroundColor', colors.neutral0), _defineProperty(_ref3, 'borderRadius', borderRadius), _defineProperty(_ref3, 'boxShadow', '0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)'), _defineProperty(_ref3, 'marginBottom', spacing.menuGutter), _defineProperty(_ref3, 'marginTop', spacing.menuGutter), _defineProperty(_ref3, 'position', 'absolute'), _defineProperty(_ref3, 'width', '100%'), _defineProperty(_ref3, 'zIndex', 1), _ref3;\n};\n\n// NOTE: internal only\n\nvar MenuPlacer = exports.MenuPlacer = function (_Component) {\n  _inherits(MenuPlacer, _Component);\n\n  function MenuPlacer() {\n    var _ref4;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, MenuPlacer);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref4 = MenuPlacer.__proto__ || Object.getPrototypeOf(MenuPlacer)).call.apply(_ref4, [this].concat(args))), _this), _this.state = {\n      maxHeight: _this.props.maxMenuHeight,\n      placement: null\n    }, _this.getPlacement = function (ref) {\n      var _this$props = _this.props,\n          minMenuHeight = _this$props.minMenuHeight,\n          maxMenuHeight = _this$props.maxMenuHeight,\n          menuPlacement = _this$props.menuPlacement,\n          menuPosition = _this$props.menuPosition,\n          menuShouldScrollIntoView = _this$props.menuShouldScrollIntoView,\n          theme = _this$props.theme;\n      var getPortalPlacement = _this.context.getPortalPlacement;\n\n\n      if (!ref) return;\n\n      // DO NOT scroll if position is fixed\n      var isFixedPosition = menuPosition === 'fixed';\n      var shouldScroll = menuShouldScrollIntoView && !isFixedPosition;\n\n      var state = getMenuPlacement({\n        maxHeight: maxMenuHeight,\n        menuEl: ref,\n        minHeight: minMenuHeight,\n        placement: menuPlacement,\n        shouldScroll: shouldScroll,\n        isFixedPosition: isFixedPosition,\n        theme: theme\n      });\n\n      if (getPortalPlacement) getPortalPlacement(state);\n\n      _this.setState(state);\n    }, _this.getUpdatedProps = function () {\n      var menuPlacement = _this.props.menuPlacement;\n\n      var placement = _this.state.placement || coercePlacement(menuPlacement);\n\n      return _extends({}, _this.props, { placement: placement, maxHeight: _this.state.maxHeight });\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(MenuPlacer, [{\n    key: 'render',\n    value: function render() {\n      var children = this.props.children;\n\n\n      return children({\n        ref: this.getPlacement,\n        placerProps: this.getUpdatedProps()\n      });\n    }\n  }]);\n\n  return MenuPlacer;\n}(_react.Component);\n\nMenuPlacer.contextTypes = {\n  getPortalPlacement: _propTypes2.default.func\n};\n\n\nvar Menu = function Menu(props) {\n  var children = props.children,\n      className = props.className,\n      cx = props.cx,\n      getStyles = props.getStyles,\n      innerRef = props.innerRef,\n      innerProps = props.innerProps;\n\n  var cn = cx( /*#__PURE__*/(0, _emotion.css)(getStyles('menu', props)), { menu: true }, className);\n\n  return _react2.default.createElement(\n    'div',\n    _extends({ className: cn }, innerProps, { ref: innerRef }),\n    children\n  );\n};\n\nexports.default = Menu;\n\n// ==============================\n// Menu List\n// ==============================\n\nvar menuListCSS = exports.menuListCSS = function menuListCSS(_ref5) {\n  var maxHeight = _ref5.maxHeight,\n      baseUnit = _ref5.theme.spacing.baseUnit;\n  return {\n    maxHeight: maxHeight,\n    overflowY: 'auto',\n    paddingBottom: baseUnit,\n    paddingTop: baseUnit,\n    position: 'relative', // required for offset[Height, Top] > keyboard scroll\n    WebkitOverflowScrolling: 'touch'\n  };\n};\nvar MenuList = exports.MenuList = function MenuList(props) {\n  var children = props.children,\n      className = props.className,\n      cx = props.cx,\n      getStyles = props.getStyles,\n      isMulti = props.isMulti,\n      innerRef = props.innerRef;\n\n  return _react2.default.createElement(\n    'div',\n    {\n      className: cx( /*#__PURE__*/(0, _emotion.css)(getStyles('menuList', props)), {\n        'menu-list': true,\n        'menu-list--is-multi': isMulti\n      }, className),\n      ref: innerRef\n    },\n    children\n  );\n};\n\n// ==============================\n// Menu Notices\n// ==============================\n\nvar noticeCSS = function noticeCSS(_ref6) {\n  var _ref6$theme = _ref6.theme,\n      baseUnit = _ref6$theme.spacing.baseUnit,\n      colors = _ref6$theme.colors;\n  return {\n    color: colors.neutral40,\n    padding: baseUnit * 2 + 'px ' + baseUnit * 3 + 'px',\n    textAlign: 'center'\n  };\n};\nvar noOptionsMessageCSS = exports.noOptionsMessageCSS = noticeCSS;\nvar loadingMessageCSS = exports.loadingMessageCSS = noticeCSS;\n\nvar NoOptionsMessage = exports.NoOptionsMessage = function NoOptionsMessage(props) {\n  var children = props.children,\n      className = props.className,\n      cx = props.cx,\n      getStyles = props.getStyles,\n      innerProps = props.innerProps;\n\n  return _react2.default.createElement(\n    'div',\n    _extends({\n      className: cx( /*#__PURE__*/(0, _emotion.css)(getStyles('noOptionsMessage', props)), {\n        'menu-notice': true,\n        'menu-notice--no-options': true\n      }, className)\n    }, innerProps),\n    children\n  );\n};\nNoOptionsMessage.defaultProps = {\n  children: 'No options'\n};\n\nvar LoadingMessage = exports.LoadingMessage = function LoadingMessage(props) {\n  var children = props.children,\n      className = props.className,\n      cx = props.cx,\n      getStyles = props.getStyles,\n      innerProps = props.innerProps;\n\n  return _react2.default.createElement(\n    'div',\n    _extends({\n      className: cx( /*#__PURE__*/(0, _emotion.css)(getStyles('loadingMessage', props)), {\n        'menu-notice': true,\n        'menu-notice--loading': true\n      }, className)\n    }, innerProps),\n    children\n  );\n};\nLoadingMessage.defaultProps = {\n  children: 'Loading...'\n};\n\n// ==============================\n// Menu Portal\n// ==============================\n\nvar menuPortalCSS = exports.menuPortalCSS = function menuPortalCSS(_ref7) {\n  var rect = _ref7.rect,\n      offset = _ref7.offset,\n      position = _ref7.position;\n  return {\n    left: rect.left,\n    position: position,\n    top: offset,\n    width: rect.width,\n    zIndex: 1\n  };\n};\n\nvar MenuPortal = exports.MenuPortal = function (_Component2) {\n  _inherits(MenuPortal, _Component2);\n\n  function MenuPortal() {\n    var _ref8;\n\n    var _temp2, _this2, _ret2;\n\n    _classCallCheck(this, MenuPortal);\n\n    for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    return _ret2 = (_temp2 = (_this2 = _possibleConstructorReturn(this, (_ref8 = MenuPortal.__proto__ || Object.getPrototypeOf(MenuPortal)).call.apply(_ref8, [this].concat(args))), _this2), _this2.state = { placement: null }, _this2.getPortalPlacement = function (_ref9) {\n      var placement = _ref9.placement;\n\n      var initialPlacement = coercePlacement(_this2.props.menuPlacement);\n\n      // avoid re-renders if the placement has not changed\n      if (placement !== initialPlacement) {\n        _this2.setState({ placement: placement });\n      }\n    }, _temp2), _possibleConstructorReturn(_this2, _ret2);\n  }\n\n  _createClass(MenuPortal, [{\n    key: 'getChildContext',\n    value: function getChildContext() {\n      return {\n        getPortalPlacement: this.getPortalPlacement\n      };\n    }\n\n    // callback for occassions where the menu must \"flip\"\n\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          appendTo = _props.appendTo,\n          children = _props.children,\n          controlElement = _props.controlElement,\n          menuPlacement = _props.menuPlacement,\n          position = _props.menuPosition,\n          getStyles = _props.getStyles;\n\n      var isFixed = position === 'fixed';\n\n      // bail early if required elements aren't present\n      if (!appendTo && !isFixed || !controlElement) {\n        return null;\n      }\n\n      var placement = this.state.placement || coercePlacement(menuPlacement);\n      var rect = (0, _utils.getBoundingClientObj)(controlElement);\n      var scrollDistance = isFixed ? 0 : window.pageYOffset;\n      var offset = rect[placement] + scrollDistance;\n      var state = { offset: offset, position: position, rect: rect };\n\n      // same wrapper element whether fixed or portalled\n      var menuWrapper = _react2.default.createElement(\n        'div',\n        { className: /*#__PURE__*/ /*#__PURE__*/(0, _emotion.css)(getStyles('menuPortal', state)) },\n        children\n      );\n\n      return appendTo ? (0, _reactDom.createPortal)(menuWrapper, appendTo) : menuWrapper;\n    }\n  }]);\n\n  return MenuPortal;\n}(_react.Component);\n\nMenuPortal.childContextTypes = {\n  getPortalPlacement: _propTypes2.default.func\n};"]},"metadata":{},"sourceType":"script"}