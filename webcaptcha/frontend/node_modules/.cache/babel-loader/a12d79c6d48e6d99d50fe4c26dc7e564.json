{"ast":null,"code":"\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __makeTemplateObject = this && this.__makeTemplateObject || function (cooked, raw) {\n  if (Object.defineProperty) {\n    Object.defineProperty(cooked, \"raw\", {\n      value: raw\n    });\n  } else {\n    cooked.raw = raw;\n  }\n\n  return cooked;\n};\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __read = this && this.__read || function (o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n      r,\n      ar = [],\n      e;\n\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n\n  return ar;\n};\n\nvar __spread = this && this.__spread || function () {\n  for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n\n  return ar;\n};\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n  result[\"default\"] = mod;\n  return result;\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar React = __importStar(require(\"react\"));\n\nvar automation_attribute_1 = __importDefault(require(\"../../_helpers/automation-attribute\"));\n\nvar container_styles_1 = __importDefault(require(\"../../_helpers/container-styles\"));\n\nvar spinner_1 = __importDefault(require(\"../../atoms/spinner\"));\n\nvar styled_1 = __importStar(require(\"../../styled\"));\n\nvar tokens_1 = require(\"../../tokens\");\n\nvar table_column_1 = __importDefault(require(\"./table-column\"));\n\nvar table_header_1 = __importDefault(require(\"./table-header\"));\n\nexports.tableDefaultComparators = {\n  numbers: function (row1, row2, column) {\n    return Number(row1[column.field]) - Number(row2[column.field]);\n  },\n  strings: function (row1, row2, column) {\n    var r1 = String(row1[column]).toLowerCase();\n    var r2 = String(row2[column]).toLowerCase();\n    return r1 > r2 ? -1 : r2 > r1 ? 1 : 0;\n  }\n};\n\nvar Table = function (_super) {\n  __extends(Table, _super);\n\n  function Table(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.defaultCellRenderer = function (item, column) {\n      return item[column.field];\n    };\n\n    _this.defaultOnSort = function (sortOnField, sortDirection) {\n      var sortingColumn = _this.getSortingColumn(sortOnField);\n\n      _this.setState({\n        sortingColumn: sortingColumn,\n        sortDirection: sortDirection\n      });\n    };\n\n    _this.sortItems = function (_a) {\n      var unsortedItems = _a.unsortedItems,\n          sortingColumn = _a.sortingColumn,\n          sortDirection = _a.sortDirection;\n\n      var items = __spread(unsortedItems);\n\n      if (!sortingColumn || items.length === 0) {\n        return items;\n      }\n\n      var comparator = _this.getComparator(items, sortingColumn);\n\n      items.sort(function (row1, row2) {\n        return comparator(row1, row2, sortingColumn);\n      });\n\n      if (sortDirection === 'desc') {\n        items.reverse();\n      }\n\n      return items;\n    };\n\n    _this.handleRowClicked = function (item) {\n      if (!_this.props.onRowClick) {\n        return null;\n      }\n\n      return function (evt) {\n        _this.props.onRowClick(evt, item);\n      };\n    };\n\n    if (!props.onSort) {\n      _this.state = {\n        sortingColumn: _this.getSortingColumn(props.sortOn),\n        sortDirection: 'asc'\n      };\n    }\n\n    return _this;\n  }\n\n  Table.prototype.inferColumnsFromChildren = function (children) {\n    return React.Children.toArray(children).map(function (element) {\n      return element.props;\n    });\n  };\n\n  Table.prototype.getSortingColumn = function (sortOnField) {\n    var columns = this.inferColumnsFromChildren(this.props.children);\n\n    if (sortOnField) {\n      return columns.find(function (column) {\n        return column.field === sortOnField;\n      });\n    } else {\n      return columns.find(function (column) {\n        return column.sortable;\n      }) || {};\n    }\n  };\n\n  Table.prototype.getComparator = function (items, sortingColumn) {\n    if (sortingColumn.comparator) {\n      return sortingColumn.comparator;\n    }\n\n    var firstItem = items[0];\n    var sampleValue = firstItem[sortingColumn.field];\n\n    if (typeof sampleValue === 'number') {\n      return Table.compare.numbers;\n    } else {\n      return Table.compare.strings;\n    }\n  };\n\n  Table.prototype.render = function () {\n    var _this = this;\n\n    var columns = this.inferColumnsFromChildren(this.props.children);\n    var sortedItems, sortingColumn, sortDirection, onSort;\n    var loading = this.props.loading;\n\n    if (this.props.onSort) {\n      onSort = this.props.onSort;\n      sortingColumn = this.getSortingColumn(this.props.sortOn);\n      sortDirection = this.props.sortDirection;\n      sortedItems = this.props.items;\n    } else {\n      onSort = this.defaultOnSort;\n      sortingColumn = this.state.sortingColumn;\n      sortDirection = this.state.sortDirection;\n      sortedItems = this.sortItems({\n        unsortedItems: this.props.items,\n        sortDirection: sortDirection,\n        sortingColumn: sortingColumn\n      });\n    }\n\n    if (columns[0].children != undefined && columns[0].children.length > 1) {\n      var nestedColumns_1 = [];\n      columns[0].children.map(function (column) {\n        nestedColumns_1.push(column.props);\n      });\n      columns = nestedColumns_1;\n    }\n\n    var rows = sortedItems.map(function (item, index) {\n      return React.createElement(Table.Row, __assign({\n        key: \"row-\" + index,\n        onClick: _this.handleRowClicked(item)\n      }, automation_attribute_1.default('table.row')), columns.map(function (column) {\n        var cellRenderer = column.children || _this.defaultCellRenderer;\n        return React.createElement(Table.Cell, {\n          key: column.field,\n          column: column\n        }, cellRenderer(item, column));\n      }));\n    });\n    return React.createElement(Table.Container, null, React.createElement(Table.Element, __assign({}, automation_attribute_1.default('table'), this.props, {\n      rows: rows\n    }), React.createElement(Table.Header, {\n      columns: columns,\n      sortingColumn: sortingColumn,\n      sortDirection: sortDirection,\n      onSort: onSort\n    }), React.createElement(Table.Body, __assign({}, automation_attribute_1.default('table.body')), rows)), React.createElement(Table.EmptyState, {\n      rows: rows,\n      loading: loading\n    }, this.props.emptyMessage), React.createElement(Table.LoadingIndicator, {\n      rows: rows,\n      loading: loading\n    }));\n  };\n\n  Table.Header = table_header_1.default;\n  Table.Column = table_column_1.default;\n  Table.compare = exports.tableDefaultComparators;\n  Table.Container = styled_1.default.div(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n    \", \";\\n    position: relative;\\n  \"], [\"\\n    \", \";\\n    position: relative;\\n  \"])), container_styles_1.default);\n  Table.Element = styled_1.default.table(templateObject_2 || (templateObject_2 = __makeTemplateObject([\"\\n    width: 100%;\\n    border-spacing: 0;\\n    border-collapse: collapse;\\n    table-layout: fixed;\\n    opacity: \", \";\\n  \"], [\"\\n    width: 100%;\\n    border-spacing: 0;\\n    border-collapse: collapse;\\n    table-layout: fixed;\\n    opacity: \", \";\\n  \"])), function (p) {\n    return p.loading && p.rows.length !== 0 ? 0.3 : 1;\n  });\n  Table.Body = styled_1.default.tbody(templateObject_3 || (templateObject_3 = __makeTemplateObject([\"\"], [\"\"])));\n  Table.Row = styled_1.default.tr(templateObject_4 || (templateObject_4 = __makeTemplateObject([\"\\n    cursor: \", \";\\n    &:hover {\\n      background-color: \", \";\\n    }\\n  \"], [\"\\n    cursor: \", \";\\n    &:hover {\\n      background-color: \", \";\\n    }\\n  \"])), function (props) {\n    return props.onClick ? 'pointer' : 'inherit';\n  }, tokens_1.colors.list.backgroundHover);\n  Table.Cell = styled_1.default.td(templateObject_6 || (templateObject_6 = __makeTemplateObject([\"\\n    padding: \", \";\\n    border-top: 1px solid \", \";\\n    text-align: left;\\n    vertical-align: middle;\\n    overflow-wrap: break-word;\\n    width: \", \";\\n    \", \";\\n  \"], [\"\\n    padding: \", \";\\n    border-top: 1px solid \", \";\\n    text-align: left;\\n    vertical-align: middle;\\n    overflow-wrap: break-word;\\n    width: \", \";\\n    \", \";\\n  \"])), tokens_1.spacing.xsmall, tokens_1.colors.base.grayLight, function (props) {\n    return props.column.width || 'auto';\n  }, function (props) {\n    return props.column.truncate ? styled_1.css(templateObject_5 || (templateObject_5 = __makeTemplateObject([\"\\n            text-overflow: ellipsis;\\n            white-space: nowrap;\\n            overflow-x: hidden;\\n          \"], [\"\\n            text-overflow: ellipsis;\\n            white-space: nowrap;\\n            overflow-x: hidden;\\n          \"]))) : \"\";\n  });\n  Table.defaultProps = {\n    onRowClick: null,\n    onSort: null,\n    sortDirection: 'asc',\n    emptyMessage: 'There are no items to display'\n  };\n\n  Table.EmptyState = function (_a) {\n    var rows = _a.rows,\n        children = _a.children,\n        loading = _a.loading;\n\n    if (rows.length > 0 || !children || loading) {\n      return null;\n    }\n\n    var TableEmptyState = styled_1.default.div(templateObject_7 || (templateObject_7 = __makeTemplateObject([\"\\n      padding: \", \";\\n      background-color: rgb(250, 250, 250);\\n      border-radius: \", \";\\n      text-align: center;\\n      margin-top: \", \";\\n      color: \", \";\\n    \"], [\"\\n      padding: \", \";\\n      background-color: rgb(250, 250, 250);\\n      border-radius: \", \";\\n      text-align: center;\\n      margin-top: \", \";\\n      color: \", \";\\n    \"])), tokens_1.spacing.small, tokens_1.misc.radius, tokens_1.spacing.xsmall, tokens_1.colors.text.default);\n    return React.createElement(TableEmptyState, null, children);\n  };\n\n  Table.LoadingIndicator = function (_a) {\n    var loading = _a.loading,\n        rows = _a.rows;\n\n    if (!loading) {\n      return null;\n    }\n\n    var initialLoadingState = rows.length === 0;\n    var TableLoadingIndicator = styled_1.default.div(templateObject_8 || (templateObject_8 = __makeTemplateObject([\"\\n      position: \", \";\\n      top: 0;\\n      left: 0;\\n      width: 100%;\\n      height: \", \";\\n      display: flex;\\n      justify-content: center;\\n      align-items: center;\\n      margin-top: \", \";\\n    \"], [\"\\n      position: \", \";\\n      top: 0;\\n      left: 0;\\n      width: 100%;\\n      height: \", \";\\n      display: flex;\\n      justify-content: center;\\n      align-items: center;\\n      margin-top: \", \";\\n    \"])), initialLoadingState ? 'initial' : 'absolute', initialLoadingState ? 'auto' : '100%', initialLoadingState ? '20px' : '0');\n    var SpinnerContainer = styled_1.default.div(templateObject_9 || (templateObject_9 = __makeTemplateObject([\"\\n      background-color: white;\\n      display: inline-block;\\n      padding: \", \";\\n      border-radius: 50%;\\n    \"], [\"\\n      background-color: white;\\n      display: inline-block;\\n      padding: \", \";\\n      border-radius: 50%;\\n    \"])), tokens_1.spacing.xsmall);\n    return React.createElement(TableLoadingIndicator, null, React.createElement(SpinnerContainer, null, React.createElement(spinner_1.default, {\n      size: \"medium\"\n    })));\n  };\n\n  return Table;\n}(React.Component);\n\nexports.default = Table;\nvar templateObject_1, templateObject_2, templateObject_3, templateObject_4, templateObject_5, templateObject_6, templateObject_7, templateObject_8, templateObject_9;","map":{"version":3,"sources":["../../../../../molecules/table/table.tsx"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAA,KAAA,GAAA,YAAA,CAAA,OAAA,CAAA,OAAA,CAAA,CAAA;;AAEA,IAAA,sBAAA,GAAA,eAAA,CAAA,OAAA,CAAA,qCAAA,CAAA,CAAA;;AACA,IAAA,kBAAA,GAAA,eAAA,CAAA,OAAA,CAAA,iCAAA,CAAA,CAAA;;AACA,IAAA,SAAA,GAAA,eAAA,CAAA,OAAA,CAAA,qBAAA,CAAA,CAAA;;AACA,IAAA,QAAA,GAAA,YAAA,CAAA,OAAA,CAAA,cAAA,CAAA,CAAA;;AACA,IAAA,QAAA,GAAA,OAAA,CAAA,cAAA,CAAA;;AACA,IAAA,cAAA,GAAA,eAAA,CAAA,OAAA,CAAA,gBAAA,CAAA,CAAA;;AACA,IAAA,cAAA,GAAA,eAAA,CAAA,OAAA,CAAA,gBAAA,CAAA,CAAA;;AA4Ba,OAAA,CAAA,uBAAA,GAA0B;AACrC,EAAA,OAAO,EAAE,UAAC,IAAD,EAAO,IAAP,EAAa,MAAb,EAAmB;AAAK,WAAA,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,KAAR,CAAL,CAAN,GAA6B,MAAM,CAAC,IAAI,CAAC,MAAM,CAA/C,KAAwC,CAAL,CAAnC;AAAuD,GADnD;AAErC,EAAA,OAAO,EAAE,UAAC,IAAD,EAAO,IAAP,EAAa,MAAb,EAAmB;AAC1B,QAAM,EAAE,GAAG,MAAM,CAAC,IAAI,CAAC,MAAD,CAAL,CAAN,CAAqB,WAArB,EAAX;AACA,QAAM,EAAE,GAAG,MAAM,CAAC,IAAI,CAAC,MAAD,CAAL,CAAN,CAAqB,WAArB,EAAX;AAEA,WAAO,EAAE,GAAG,EAAL,GAAU,CAAC,CAAX,GAAe,EAAE,GAAG,EAAL,GAAU,CAAV,GAAc,CAApC;AACD;AAPoC,CAA1B;;AAUb,IAAA,KAAA,GAAA,UAAA,MAAA,EAAA;AAAoB,EAAA,SAAA,CAAA,KAAA,EAAA,MAAA,CAAA;;AAuGlB,WAAA,KAAA,CAAY,KAAZ,EAAiB;AAAjB,QAAA,KAAA,GACE,MAAA,CAAA,IAAA,CAAA,IAAA,EAAM,KAAN,KAAY,IADd;;AAwBO,IAAA,KAAA,CAAA,mBAAA,GAAsB,UAAC,IAAD,EAAO,MAAP,EAAa;AAAK,aAAA,IAAI,CAAC,MAAM,CAAX,KAAI,CAAJ;AAAkB,KAA1D;;AAEA,IAAA,KAAA,CAAA,aAAA,GAAgB,UAAC,WAAD,EAAc,aAAd,EAA2B;AAChD,UAAM,aAAa,GAAG,KAAI,CAAC,gBAAL,CAAsB,WAAtB,CAAtB;;AACA,MAAA,KAAI,CAAC,QAAL,CAAc;AAAE,QAAA,aAAa,EAAA,aAAf;AAAiB,QAAA,aAAa,EAAA;AAA9B,OAAd;AACD,KAHM;;AAuCA,IAAA,KAAA,CAAA,SAAA,GAAY,UAAC,EAAD,EAAgD;UAA7C,aAAA,GAAA,EAAA,CAAA,a;UAAe,aAAA,GAAA,EAAA,CAAA,a;UAAe,aAAA,GAAA,EAAA,CAAA,a;;AAElD,UAAM,KAAK,GAAA,QAAA,CAAO,aAAP,CAAX;;AAGA,UAAI,CAAC,aAAD,IAAkB,KAAK,CAAC,MAAN,KAAiB,CAAvC,EAA0C;AACxC,eAAO,KAAP;AACD;;AAED,UAAM,UAAU,GAAG,KAAI,CAAC,aAAL,CAAmB,KAAnB,EAA0B,aAA1B,CAAnB;;AAEA,MAAA,KAAK,CAAC,IAAN,CAAW,UAAC,IAAD,EAAO,IAAP,EAAW;AAAK,eAAA,UAAU,CAAC,IAAD,EAAO,IAAP,EAAV,aAAU,CAAV;AAAqC,OAAhE;;AACA,UAAI,aAAa,KAAK,MAAtB,EAA8B;AAC5B,QAAA,KAAK,CAAC,OAAN;AACD;;AAED,aAAO,KAAP;AACD,KAjBM;;AAmBA,IAAA,KAAA,CAAA,gBAAA,GAAmB,UAAC,IAAD,EAAK;AAC7B,UAAI,CAAC,KAAI,CAAC,KAAL,CAAW,UAAhB,EAA4B;AAC1B,eAAO,IAAP;AACD;;AACD,aAAO,UAAC,GAAD,EAAI;AACT,QAAA,KAAI,CAAC,KAAL,CAAW,UAAX,CAAsB,GAAtB,EAA2B,IAA3B;AACD,OAFD;AAGD,KAPM;;AArEL,QAAI,CAAC,KAAK,CAAC,MAAX,EAAmB;AAEjB,MAAA,KAAI,CAAC,KAAL,GAAa;AACX,QAAA,aAAa,EAAE,KAAI,CAAC,gBAAL,CAAsB,KAAK,CAAC,MAA5B,CADJ;AAEX,QAAA,aAAa,EAAE;AAFJ,OAAb;AAID;;;AACF;;AASM,EAAA,KAAA,CAAA,SAAA,CAAA,wBAAA,GAAP,UAAgC,QAAhC,EAAwC;AACtC,WAAO,KAAK,CAAC,QAAN,CAAe,OAAf,CAAuB,QAAvB,EAAiC,GAAjC,CAAqC,UAAC,OAAD,EAAQ;AAAK,aAAA,OAAO,CAAP,KAAA;AAAa,KAA/D,CAAP;AACD,GAFM;;AAIA,EAAA,KAAA,CAAA,SAAA,CAAA,gBAAA,GAAP,UAAwB,WAAxB,EAAmC;AACjC,QAAM,OAAO,GAAG,KAAK,wBAAL,CAA8B,KAAK,KAAL,CAAW,QAAzC,CAAhB;;AACA,QAAI,WAAJ,EAAiB;AAEf,aAAO,OAAO,CAAC,IAAR,CAAa,UAAC,MAAD,EAAO;AAAK,eAAA,MAAM,CAAC,KAAP,KAAA,WAAA;AAA4B,OAArD,CAAP;AACD,KAHD,MAGO;AAKL,aAAO,OAAO,CAAC,IAAR,CAAa,UAAC,MAAD,EAAO;AAAK,eAAA,MAAM,CAAN,QAAA;AAAe,OAAxC,KAA6C,EAApD;AACD;AACF,GAZM;;AAcA,EAAA,KAAA,CAAA,SAAA,CAAA,aAAA,GAAP,UAAqB,KAArB,EAA4B,aAA5B,EAAyC;AAEvC,QAAI,aAAa,CAAC,UAAlB,EAA8B;AAC5B,aAAO,aAAa,CAAC,UAArB;AACD;;AAGD,QAAM,SAAS,GAAG,KAAK,CAAC,CAAD,CAAvB;AACA,QAAM,WAAW,GAAG,SAAS,CAAC,aAAa,CAAC,KAAf,CAA7B;;AACA,QAAI,OAAO,WAAP,KAAuB,QAA3B,EAAqC;AACnC,aAAO,KAAK,CAAC,OAAN,CAAc,OAArB;AACD,KAFD,MAEO;AACL,aAAO,KAAK,CAAC,OAAN,CAAc,OAArB;AACD;AACF,GAdM;;AA4CA,EAAA,KAAA,CAAA,SAAA,CAAA,MAAA,GAAP,YAAA;AAAA,QAAA,KAAA,GAAA,IAAA;;AACE,QAAI,OAAO,GAAG,KAAK,wBAAL,CAA8B,KAAK,KAAL,CAAW,QAAzC,CAAd;AACA,QAAI,WAAJ,EAAiB,aAAjB,EAAgC,aAAhC,EAA+C,MAA/C;AACQ,QAAA,OAAA,GAAA,KAAA,KAAA,CAAA,OAAA;;AAER,QAAI,KAAK,KAAL,CAAW,MAAf,EAAuB;AAGrB,MAAA,MAAM,GAAG,KAAK,KAAL,CAAW,MAApB;AACA,MAAA,aAAa,GAAG,KAAK,gBAAL,CAAsB,KAAK,KAAL,CAAW,MAAjC,CAAhB;AACA,MAAA,aAAa,GAAG,KAAK,KAAL,CAAW,aAA3B;AACA,MAAA,WAAW,GAAG,KAAK,KAAL,CAAW,KAAzB;AACD,KAPD,MAOO;AAGL,MAAA,MAAM,GAAG,KAAK,aAAd;AACA,MAAA,aAAa,GAAG,KAAK,KAAL,CAAW,aAA3B;AACA,MAAA,aAAa,GAAG,KAAK,KAAL,CAAW,aAA3B;AACA,MAAA,WAAW,GAAG,KAAK,SAAL,CAAe;AAC3B,QAAA,aAAa,EAAE,KAAK,KAAL,CAAW,KADC;AAE3B,QAAA,aAAa,EAAA,aAFc;AAG3B,QAAA,aAAa,EAAA;AAHc,OAAf,CAAd;AAKD;;AAGD,QAAI,OAAO,CAAC,CAAD,CAAP,CAAW,QAAX,IAAuB,SAAvB,IAAoC,OAAO,CAAC,CAAD,CAAP,CAAW,QAAX,CAAoB,MAApB,GAA6B,CAArE,EAAwE;AACtE,UAAM,eAAa,GAAG,EAAtB;AACA,MAAA,OAAO,CAAC,CAAD,CAAP,CAAW,QAAX,CAAoB,GAApB,CAAwB,UAAC,MAAD,EAAO;AAC7B,QAAA,eAAa,CAAC,IAAd,CAAmB,MAAM,CAAC,KAA1B;AACD,OAFD;AAGA,MAAA,OAAO,GAAG,eAAV;AACD;;AAED,QAAM,IAAI,GAAG,WAAW,CAAC,GAAZ,CAAgB,UAAC,IAAD,EAAO,KAAP,EAAY;AAAK,aAC5C,KAAA,CAAA,aAAA,CAAC,KAAK,CAAC,GAAP,EAAU,QAAA,CAAA;AACR,QAAA,GAAG,EAAE,SAAO,KADJ;AAER,QAAA,OAAO,EAAE,KAAI,CAAC,gBAAL,CAAsB,IAAtB;AAFD,OAAA,EAGJ,sBAAA,CAAA,OAAA,CAAW,WAAX,CAHI,CAAV,EAKG,OAAO,CAAC,GAAR,CAAY,UAAC,MAAD,EAAO;AAClB,YAAM,YAAY,GAAG,MAAM,CAAC,QAAP,IAAmB,KAAI,CAAC,mBAA7C;AAEA,eACE,KAAA,CAAA,aAAA,CAAC,KAAK,CAAC,IAAP,EAAW;AAAC,UAAA,GAAG,EAAE,MAAM,CAAC,KAAb;AAAoB,UAAA,MAAM,EAAE;AAA5B,SAAX,EACG,YAAY,CAAC,IAAD,EAAO,MAAP,CADf,CADF;AATwC,OAMzC,CALH,CAD4C;AAgB7C,KAhBY,CAAb;AAkBA,WACE,KAAA,CAAA,aAAA,CAAC,KAAK,CAAC,SAAP,EAAgB,IAAhB,EACE,KAAA,CAAA,aAAA,CAAC,KAAK,CAAC,OAAP,EAAc,QAAA,CAAA,EAAA,EAAK,sBAAA,CAAA,OAAA,CAAW,OAAX,CAAL,EAA8B,KAAK,KAAnC,EAAwC;AAAE,MAAA,IAAI,EAAE;AAAR,KAAxC,CAAd,EACE,KAAA,CAAA,aAAA,CAAC,KAAK,CAAC,MAAP,EAAa;AACX,MAAA,OAAO,EAAE,OADE;AAEX,MAAA,aAAa,EAAE,aAFJ;AAGX,MAAA,aAAa,EAAE,aAHJ;AAIX,MAAA,MAAM,EAAE;AAJG,KAAb,CADF,EAOE,KAAA,CAAA,aAAA,CAAC,KAAK,CAAC,IAAP,EAAW,QAAA,CAAA,EAAA,EAAK,sBAAA,CAAA,OAAA,CAAW,YAAX,CAAL,CAAX,EAA2C,IAA3C,CAPF,CADF,EAUE,KAAA,CAAA,aAAA,CAAC,KAAK,CAAC,UAAP,EAAiB;AAAC,MAAA,IAAI,EAAE,IAAP;AAAa,MAAA,OAAO,EAAE;AAAtB,KAAjB,EACG,KAAK,KAAL,CAAW,YADd,CAVF,EAaE,KAAA,CAAA,aAAA,CAAC,KAAK,CAAC,gBAAP,EAAuB;AAAC,MAAA,IAAI,EAAE,IAAP;AAAa,MAAA,OAAO,EAAE;AAAtB,KAAvB,CAbF,CADF;AAiBD,GArEM;;AAnMO,EAAA,KAAA,CAAA,MAAA,GAAS,cAAA,CAAA,OAAT;AACA,EAAA,KAAA,CAAA,MAAA,GAAS,cAAA,CAAA,OAAT;AAEA,EAAA,KAAA,CAAA,OAAA,GAAU,OAAA,CAAA,uBAAV;AAEA,EAAA,KAAA,CAAA,SAAA,GAAY,QAAA,CAAA,OAAA,CAAO,GAAP,CAAU,gBAAA,KAAA,gBAAA,GAAA,oBAAA,CAAA,CAAA,QAAA,EAAA,gCAAA,CAAA,EAAA,CAAA,QAAA,EACjB,gCADiB,CAAA,CAAA,CAAV,EACtB,kBAAA,CAAA,OADsB,CAAZ;AAKA,EAAA,KAAA,CAAA,OAAA,GAAU,QAAA,CAAA,OAAA,CAAO,KAAP,CAAY,gBAAA,KAAA,gBAAA,GAAA,oBAAA,CAAA,CAAA,qHAAA,EAAA,OAAA,CAAA,EAAA,CAAA,qHAAA,EAK4B,OAL5B,CAAA,CAAA,CAAZ,EAKX,UAAC,CAAD,EAAE;AAAK,WAAC,CAAC,CAAC,OAAF,IAAa,CAAC,CAAC,IAAF,CAAO,MAAP,KAAkB,CAA/B,GAAmC,GAAnC,GAAD,CAAA;AAA4C,GALxC,CAAV;AAQA,EAAA,KAAA,CAAA,IAAA,GAAO,QAAA,CAAA,OAAA,CAAO,KAAP,CAAY,gBAAA,KAAA,gBAAA,GAAA,oBAAA,CAAA,CAAA,EAAA,CAAA,EAAA,CAAA,EAAA,CAAA,CAAA,CAAZ,CAAP;AAEA,EAAA,KAAA,CAAA,GAAA,GAAM,QAAA,CAAA,OAAA,CAAO,EAAP,CAAS,gBAAA,KAAA,gBAAA,GAAA,oBAAA,CAAA,CAAA,gBAAA,EAAA,4CAAA,EAAA,cAAA,CAAA,EAAA,CAAA,gBAAA,EACiC,4CADjC,EAGsB,cAHtB,CAAA,CAAA,CAAT,EACR,UAAC,KAAD,EAAM;AAAK,WAAC,KAAK,CAAC,OAAN,GAAgB,SAAhB,GAAD,SAAA;AAAuC,GAD1C,EAGI,QAAA,CAAA,MAAA,CAAO,IAAP,CAAY,eAHhB,CAAN;AAOA,EAAA,KAAA,CAAA,IAAA,GAAO,QAAA,CAAA,OAAA,CAAO,EAAP,CAAS,gBAAA,KAAA,gBAAA,GAAA,oBAAA,CAAA,CAAA,iBAAA,EAAA,+BAAA,EAAA,oGAAA,EAAA,SAAA,EAAA,OAAA,CAAA,EAAA,CAAA,iBAAA,EACH,+BADG,EAEiB,oGAFjB,EAMoB,SANpB,EAcpB,OAdoB,CAAA,CAAA,CAAT,EACR,QAAA,CAAA,OAAA,CAAQ,MADA,EAEK,QAAA,CAAA,MAAA,CAAO,IAAP,CAAY,SAFjB,EAMV,UAAC,KAAD,EAAM;AAAK,WAAA,KAAK,CAAC,MAAN,CAAa,KAAb,IAAA,MAAA;AAA4B,GAN7B,EAOjB,UAAC,KAAD,EAAM;AACN,WAAA,KAAK,CAAC,MAAN,CAAa,QAAb,GACI,QAAA,CAAA,GAAA,CAAG,gBAAA,KAAA,gBAAA,GAAA,oBAAA,CAAA,CAAA,uHAAA,CAAA,EAAA,CAAA,uHAAA,CAAA,CAAA,CAAH,CADJ,GAMI,EANJ;AAMM,GAdW,CAAP;AAiBA,EAAA,KAAA,CAAA,YAAA,GAAe;AAC3B,IAAA,UAAU,EAAE,IADe;AAE3B,IAAA,MAAM,EAAE,IAFmB;AAG3B,IAAA,aAAa,EAAE,KAHY;AAI3B,IAAA,YAAY,EAAE;AAJa,GAAf;;AAOA,EAAA,KAAA,CAAA,UAAA,GAAa,UAAC,EAAD,EAA4B;QAAzB,IAAA,GAAA,EAAA,CAAA,I;QAAM,QAAA,GAAA,EAAA,CAAA,Q;QAAU,OAAA,GAAA,EAAA,CAAA,O;;AAC5C,QAAI,IAAI,CAAC,MAAL,GAAc,CAAd,IAAmB,CAAC,QAApB,IAAgC,OAApC,EAA6C;AAC3C,aAAO,IAAP;AACD;;AAED,QAAM,eAAe,GAAG,QAAA,CAAA,OAAA,CAAO,GAAP,CAAU,gBAAA,KAAA,gBAAA,GAAA,oBAAA,CAAA,CAAA,mBAAA,EAAA,uEAAA,EAAA,kDAAA,EAAA,kBAAA,EAAA,SAAA,CAAA,EAAA,CAAA,mBAAA,EACR,uEADQ,EAGJ,kDAHI,EAKJ,kBALI,EAMJ,SANI,CAAA,CAAA,CAAV,EACX,QAAA,CAAA,OAAA,CAAQ,KADG,EAGL,QAAA,CAAA,IAAA,CAAK,MAHA,EAKR,QAAA,CAAA,OAAA,CAAQ,MALA,EAMb,QAAA,CAAA,MAAA,CAAO,IAAP,CAAY,OANC,CAAxB;AASA,WAAO,KAAA,CAAA,aAAA,CAAC,eAAD,EAAgB,IAAhB,EAAkB,QAAlB,CAAP;AACD,GAfa;;AAiBA,EAAA,KAAA,CAAA,gBAAA,GAAmB,UAAC,EAAD,EAAkB;QAAf,OAAA,GAAA,EAAA,CAAA,O;QAAS,IAAA,GAAA,EAAA,CAAA,I;;AAC3C,QAAI,CAAC,OAAL,EAAc;AACZ,aAAO,IAAP;AACD;;AACD,QAAM,mBAAmB,GAAG,IAAI,CAAC,MAAL,KAAgB,CAA5C;AAEA,QAAM,qBAAqB,GAAG,QAAA,CAAA,OAAA,CAAO,GAAP,CAAU,gBAAA,KAAA,gBAAA,GAAA,oBAAA,CAAA,CAAA,oBAAA,EAAA,sEAAA,EAAA,yGAAA,EAAA,SAAA,CAAA,EAAA,CAAA,oBAAA,EACkB,sEADlB,EAKS,yGALT,EASU,SATV,CAAA,CAAA,CAAV,EAChB,mBAAmB,GAAG,SAAH,GAAe,UADlB,EAKlB,mBAAmB,GAAG,MAAH,GAAY,MALb,EASd,mBAAmB,GAAG,MAAH,GAAY,GATjB,CAA9B;AAYA,QAAM,gBAAgB,GAAG,QAAA,CAAA,OAAA,CAAO,GAAP,CAAU,gBAAA,KAAA,gBAAA,GAAA,oBAAA,CAAA,CAAA,iFAAA,EAAA,oCAAA,CAAA,EAAA,CAAA,iFAAA,EAGR,oCAHQ,CAAA,CAAA,CAAV,EAGZ,QAAA,CAAA,OAAA,CAAQ,MAHI,CAAzB;AAOA,WACE,KAAA,CAAA,aAAA,CAAC,qBAAD,EAAsB,IAAtB,EACE,KAAA,CAAA,aAAA,CAAC,gBAAD,EAAiB,IAAjB,EACE,KAAA,CAAA,aAAA,CAAC,SAAA,CAAA,OAAD,EAAQ;AAAC,MAAA,IAAI,EAAC;AAAN,KAAR,CADF,CADF,CADF;AAOD,GAhCa;;AAqMhB,SAAA,KAAA;AAAC,CA1QD,CAAoB,KAAK,CAAC,SAA1B,CAAA;;AA4QA,OAAA,CAAA,OAAA,GAAe,KAAf","sourceRoot":"","sourcesContent":["\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __makeTemplateObject = (this && this.__makeTemplateObject) || function (cooked, raw) {\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n    return cooked;\n};\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spread = (this && this.__spread) || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result[\"default\"] = mod;\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = __importStar(require(\"react\"));\nvar automation_attribute_1 = __importDefault(require(\"../../_helpers/automation-attribute\"));\nvar container_styles_1 = __importDefault(require(\"../../_helpers/container-styles\"));\nvar spinner_1 = __importDefault(require(\"../../atoms/spinner\"));\nvar styled_1 = __importStar(require(\"../../styled\"));\nvar tokens_1 = require(\"../../tokens\");\nvar table_column_1 = __importDefault(require(\"./table-column\"));\nvar table_header_1 = __importDefault(require(\"./table-header\"));\nexports.tableDefaultComparators = {\n    numbers: function (row1, row2, column) { return Number(row1[column.field]) - Number(row2[column.field]); },\n    strings: function (row1, row2, column) {\n        var r1 = String(row1[column]).toLowerCase();\n        var r2 = String(row2[column]).toLowerCase();\n        return r1 > r2 ? -1 : r2 > r1 ? 1 : 0;\n    }\n};\nvar Table = (function (_super) {\n    __extends(Table, _super);\n    function Table(props) {\n        var _this = _super.call(this, props) || this;\n        _this.defaultCellRenderer = function (item, column) { return item[column.field]; };\n        _this.defaultOnSort = function (sortOnField, sortDirection) {\n            var sortingColumn = _this.getSortingColumn(sortOnField);\n            _this.setState({ sortingColumn: sortingColumn, sortDirection: sortDirection });\n        };\n        _this.sortItems = function (_a) {\n            var unsortedItems = _a.unsortedItems, sortingColumn = _a.sortingColumn, sortDirection = _a.sortDirection;\n            var items = __spread(unsortedItems);\n            if (!sortingColumn || items.length === 0) {\n                return items;\n            }\n            var comparator = _this.getComparator(items, sortingColumn);\n            items.sort(function (row1, row2) { return comparator(row1, row2, sortingColumn); });\n            if (sortDirection === 'desc') {\n                items.reverse();\n            }\n            return items;\n        };\n        _this.handleRowClicked = function (item) {\n            if (!_this.props.onRowClick) {\n                return null;\n            }\n            return function (evt) {\n                _this.props.onRowClick(evt, item);\n            };\n        };\n        if (!props.onSort) {\n            _this.state = {\n                sortingColumn: _this.getSortingColumn(props.sortOn),\n                sortDirection: 'asc'\n            };\n        }\n        return _this;\n    }\n    Table.prototype.inferColumnsFromChildren = function (children) {\n        return React.Children.toArray(children).map(function (element) { return element.props; });\n    };\n    Table.prototype.getSortingColumn = function (sortOnField) {\n        var columns = this.inferColumnsFromChildren(this.props.children);\n        if (sortOnField) {\n            return columns.find(function (column) { return column.field === sortOnField; });\n        }\n        else {\n            return columns.find(function (column) { return column.sortable; }) || {};\n        }\n    };\n    Table.prototype.getComparator = function (items, sortingColumn) {\n        if (sortingColumn.comparator) {\n            return sortingColumn.comparator;\n        }\n        var firstItem = items[0];\n        var sampleValue = firstItem[sortingColumn.field];\n        if (typeof sampleValue === 'number') {\n            return Table.compare.numbers;\n        }\n        else {\n            return Table.compare.strings;\n        }\n    };\n    Table.prototype.render = function () {\n        var _this = this;\n        var columns = this.inferColumnsFromChildren(this.props.children);\n        var sortedItems, sortingColumn, sortDirection, onSort;\n        var loading = this.props.loading;\n        if (this.props.onSort) {\n            onSort = this.props.onSort;\n            sortingColumn = this.getSortingColumn(this.props.sortOn);\n            sortDirection = this.props.sortDirection;\n            sortedItems = this.props.items;\n        }\n        else {\n            onSort = this.defaultOnSort;\n            sortingColumn = this.state.sortingColumn;\n            sortDirection = this.state.sortDirection;\n            sortedItems = this.sortItems({\n                unsortedItems: this.props.items,\n                sortDirection: sortDirection,\n                sortingColumn: sortingColumn\n            });\n        }\n        if (columns[0].children != undefined && columns[0].children.length > 1) {\n            var nestedColumns_1 = [];\n            columns[0].children.map(function (column) {\n                nestedColumns_1.push(column.props);\n            });\n            columns = nestedColumns_1;\n        }\n        var rows = sortedItems.map(function (item, index) { return (React.createElement(Table.Row, __assign({ key: \"row-\" + index, onClick: _this.handleRowClicked(item) }, automation_attribute_1.default('table.row')), columns.map(function (column) {\n            var cellRenderer = column.children || _this.defaultCellRenderer;\n            return (React.createElement(Table.Cell, { key: column.field, column: column }, cellRenderer(item, column)));\n        }))); });\n        return (React.createElement(Table.Container, null,\n            React.createElement(Table.Element, __assign({}, automation_attribute_1.default('table'), this.props, { rows: rows }),\n                React.createElement(Table.Header, { columns: columns, sortingColumn: sortingColumn, sortDirection: sortDirection, onSort: onSort }),\n                React.createElement(Table.Body, __assign({}, automation_attribute_1.default('table.body')), rows)),\n            React.createElement(Table.EmptyState, { rows: rows, loading: loading }, this.props.emptyMessage),\n            React.createElement(Table.LoadingIndicator, { rows: rows, loading: loading })));\n    };\n    Table.Header = table_header_1.default;\n    Table.Column = table_column_1.default;\n    Table.compare = exports.tableDefaultComparators;\n    Table.Container = styled_1.default.div(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n    \", \";\\n    position: relative;\\n  \"], [\"\\n    \", \";\\n    position: relative;\\n  \"])), container_styles_1.default);\n    Table.Element = styled_1.default.table(templateObject_2 || (templateObject_2 = __makeTemplateObject([\"\\n    width: 100%;\\n    border-spacing: 0;\\n    border-collapse: collapse;\\n    table-layout: fixed;\\n    opacity: \", \";\\n  \"], [\"\\n    width: 100%;\\n    border-spacing: 0;\\n    border-collapse: collapse;\\n    table-layout: fixed;\\n    opacity: \", \";\\n  \"])), function (p) { return (p.loading && p.rows.length !== 0 ? 0.3 : 1); });\n    Table.Body = styled_1.default.tbody(templateObject_3 || (templateObject_3 = __makeTemplateObject([\"\"], [\"\"])));\n    Table.Row = styled_1.default.tr(templateObject_4 || (templateObject_4 = __makeTemplateObject([\"\\n    cursor: \", \";\\n    &:hover {\\n      background-color: \", \";\\n    }\\n  \"], [\"\\n    cursor: \", \";\\n    &:hover {\\n      background-color: \", \";\\n    }\\n  \"])), function (props) { return (props.onClick ? 'pointer' : 'inherit'); }, tokens_1.colors.list.backgroundHover);\n    Table.Cell = styled_1.default.td(templateObject_6 || (templateObject_6 = __makeTemplateObject([\"\\n    padding: \", \";\\n    border-top: 1px solid \", \";\\n    text-align: left;\\n    vertical-align: middle;\\n    overflow-wrap: break-word;\\n    width: \", \";\\n    \", \";\\n  \"], [\"\\n    padding: \", \";\\n    border-top: 1px solid \", \";\\n    text-align: left;\\n    vertical-align: middle;\\n    overflow-wrap: break-word;\\n    width: \", \";\\n    \",\n        \";\\n  \"])), tokens_1.spacing.xsmall, tokens_1.colors.base.grayLight, function (props) { return props.column.width || 'auto'; }, function (props) {\n        return props.column.truncate\n            ? styled_1.css(templateObject_5 || (templateObject_5 = __makeTemplateObject([\"\\n            text-overflow: ellipsis;\\n            white-space: nowrap;\\n            overflow-x: hidden;\\n          \"], [\"\\n            text-overflow: ellipsis;\\n            white-space: nowrap;\\n            overflow-x: hidden;\\n          \"]))) : \"\";\n    });\n    Table.defaultProps = {\n        onRowClick: null,\n        onSort: null,\n        sortDirection: 'asc',\n        emptyMessage: 'There are no items to display'\n    };\n    Table.EmptyState = function (_a) {\n        var rows = _a.rows, children = _a.children, loading = _a.loading;\n        if (rows.length > 0 || !children || loading) {\n            return null;\n        }\n        var TableEmptyState = styled_1.default.div(templateObject_7 || (templateObject_7 = __makeTemplateObject([\"\\n      padding: \", \";\\n      background-color: rgb(250, 250, 250);\\n      border-radius: \", \";\\n      text-align: center;\\n      margin-top: \", \";\\n      color: \", \";\\n    \"], [\"\\n      padding: \", \";\\n      background-color: rgb(250, 250, 250);\\n      border-radius: \", \";\\n      text-align: center;\\n      margin-top: \", \";\\n      color: \", \";\\n    \"])), tokens_1.spacing.small, tokens_1.misc.radius, tokens_1.spacing.xsmall, tokens_1.colors.text.default);\n        return React.createElement(TableEmptyState, null, children);\n    };\n    Table.LoadingIndicator = function (_a) {\n        var loading = _a.loading, rows = _a.rows;\n        if (!loading) {\n            return null;\n        }\n        var initialLoadingState = rows.length === 0;\n        var TableLoadingIndicator = styled_1.default.div(templateObject_8 || (templateObject_8 = __makeTemplateObject([\"\\n      position: \", \";\\n      top: 0;\\n      left: 0;\\n      width: 100%;\\n      height: \", \";\\n      display: flex;\\n      justify-content: center;\\n      align-items: center;\\n      margin-top: \", \";\\n    \"], [\"\\n      position: \", \";\\n      top: 0;\\n      left: 0;\\n      width: 100%;\\n      height: \", \";\\n      display: flex;\\n      justify-content: center;\\n      align-items: center;\\n      margin-top: \", \";\\n    \"])), initialLoadingState ? 'initial' : 'absolute', initialLoadingState ? 'auto' : '100%', initialLoadingState ? '20px' : '0');\n        var SpinnerContainer = styled_1.default.div(templateObject_9 || (templateObject_9 = __makeTemplateObject([\"\\n      background-color: white;\\n      display: inline-block;\\n      padding: \", \";\\n      border-radius: 50%;\\n    \"], [\"\\n      background-color: white;\\n      display: inline-block;\\n      padding: \", \";\\n      border-radius: 50%;\\n    \"])), tokens_1.spacing.xsmall);\n        return (React.createElement(TableLoadingIndicator, null,\n            React.createElement(SpinnerContainer, null,\n                React.createElement(spinner_1.default, { size: \"medium\" }))));\n    };\n    return Table;\n}(React.Component));\nexports.default = Table;\nvar templateObject_1, templateObject_2, templateObject_3, templateObject_4, templateObject_5, templateObject_6, templateObject_7, templateObject_8, templateObject_9;\n//# sourceMappingURL=table.js.map"]},"metadata":{},"sourceType":"script"}